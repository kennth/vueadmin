webpackJsonp([2,0],[function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(21),n=i(s),r=a(22),o=i(r),l=a(805),u=i(l);a(818);var c=a(918),d=i(c),h=a(328),f=i(h),p=a(852),_=i(p);a(819);var m=a(856),g=i(m),v=a(506),b=i(v),y=a(146),k=i(y);a(495),a(493);var x=a(855),w=i(x);o.default.use(u.default),o.default.use(d.default),o.default.use(f.default),window.moment=a(2),moment.locale("zh-CN"),o.default.use(w.default,{ak:"DrUsyR6I4CCiwqLW7vdYteGV"});var $=new d.default({routes:k.default});$.beforeEach(function(t,e,a){window.scroll(0,0);var i=b.default.state.user.userinfo;if(i.token||"/login"===t.path)if(1===i.access_status){var s="object"===(0,n.default)(i.web_routers)?i.web_routers:{};"/login"==t.path||s[t.path]?i.token&&"/login"===t.path?a(i.default_web_routers):(_.default.start(),a()):u.default.MessageBox.alert("您没用权限访问此页面！","访问错误",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.default_web_routers?a(i.default_web_routers):(b.default.dispatch("remove_userinfo"),a("/login"))})}else i.token&&"/login"===t.path?a({path:"/manage"}):(_.default.start(),a());else b.default.dispatch("remove_userinfo"),a("/login")}),$.afterEach(function(t){_.default.done()});new o.default({el:"#app",data:function(){return{}},router:$,store:b.default,render:function(t){return t(g.default)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";t.exports={store:a(524),ajax:a(523)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i={gbs:{host:"/api",db_prefix:"vue_admin_"},cbs:{statusError:function(t){var e=this;404!==t.status?this.$message({showClose:!0,message:"返回错误："+t.msg,type:"error"}):this.$store.dispatch("remove_userinfo").then(function(){e.$alert(t.status+","+t.msg+"！","登录错误",{confirmButtonText:"确定",callback:function(t){e.$router.push("/login")}})})},requestError:function(t){this.$message({showClose:!0,message:"请求错误："+(t.response?t.response.status:"")+","+(t.response?t.response.statusText:""),type:"error"})}}};t.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";t.exports={Default:a(429)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(439),n=i(s),r=a(885),o=i(r),l=a(884),u=i(l),c=a(886),d=i(c),h=a(480),f=i(h);t.exports={Login:n.default,Home:o.default,Content:u.default,NotFound:d.default,Modules:f.default}},function(t,e,a){"use strict";t.exports={routes:a(146),settings:a(94),request:a(145)}},function(t,e,a){"use strict";var i=[{module:"user",name:"用户管理",list:a(487)},{module:"company",name:"公司管理",list:a(481)},{module:"driver",name:"司机管理",list:a(482)},{module:"truck",name:"车辆管理",list:a(486)},{module:"order",name:"订单管理",list:a(484)},{module:"site",name:"站点管理",list:a(485)},{module:"line",name:"线路管理",list:a(483)}];t.exports=i},function(t,e,a){"use strict";var i=a(143);t.exports=[{path:"/",redirect:function(t){return"login"},hidden:!0},{path:"/login",component:i.Login,hidden:!0},{path:"/404",component:i.Home,hidden:!0,children:[{path:"",component:i.NotFound}]}].concat(a(488))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CREATE_DB="CREATE_DB",e.ADD_DB="ADD_DB",e.REDUCE_DB="REDUCE_DB",e.DELETE_DB="DELETE_DB",e.UPDATE_CUR_SHOP_STATUS="UPDATE_CUR_SHOP_STATUS",e.CHECK_DB="CHECK_DB",e.UPDATE_LOCAL="UPDATE_LOCAL",e.CLEAR_LOCAL="CLEAR_LOCAL"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SHOW_LOADING="SHOW_LOADING",e.HIDE_LOADING="HIDE_LOADING"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SET_MENU_OPEN="SET_MENU_OPEN",e.SET_MENU_CLOSE="SET_MENU_CLOSE"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SET_CUR_ROUTE="SET_CUR_ROUTE"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UPDATE_USERINFO="UPDATE_USERINFO",e.REMOVE_USERINFO="REMOVE_USERINFO",e.UPDATE_REMUMBER="UPDATE_REMUMBER",e.REMOVE_REMUMBER="REMOVE_REMUMBER"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",components:{},methods:{},mounted:function(){},watch:{$route:function(t,e){t.matched.length||this.$router.push("/404")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bread",data:function(){return{strong:""}},methods:{getPageText:function(t){return t=t.replace("编辑",this.$route.query.id?"修改":"添加")}},mounted:function(){},created:function(){if(this.$route.matched.length){var t=this.$route.matched[this.$route.matched.length-1].name;this.strong=this.getPageText(t)}},watch:{$route:function(t,e){this.strong=this.getPageText(t.name)}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(418),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(420),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(422),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(425),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(428),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(431),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(433),n=i(s);e.default=n.default},function(t,e,a){"use strict";t.exports=a(434)},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(435),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(438),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(440),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(442),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(445),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(447),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(449),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(452),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(454),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(457),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(459),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(462),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(464),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(467),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(469),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(472),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(474),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(476),n=i(s);t.exports=n.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"content",data:function(){return{}},methods:{},created:function(){},mounted:function(){}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(437),n=i(s);e.default={name:"home",components:n.default}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"not-found",data:function(){return{}},methods:{},created:function(){},mounted:function(){}}},function(t,e){"use strict";t.exports={name:"dialog-info",data:function(){return{dialog:this.Dialog||{}}},methods:{onClose:function(){this.dialog.show=!1}},computed:{show:function(){return this.dialog.show}},mounted:function(){},props:{Dialog:{type:Object,validator:function(t){return!0}}},watch:{}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(858),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(76),n=i(s);t.exports={name:"echarts",data:function(){return{chartDom:null,data:{id:this.id,title:this.title,subtext:this.subtext,hover_title:this.hoverTitle,text_list:this.textList,value_list:this.valueList}}},methods:{init:function(){return this.data.id&&(this.chartDom=n.default.init(document.getElementById(this.data.id))),this},update:function(){null===this.chartDom&&this.init(),this.chartDom&&this.chartDom.setOption({title:{text:this.data.title,subtext:this.data.subtext},tooltip:{},xAxis:{data:this.data.text_list},yAxis:{},series:[{name:this.data.hover_title,type:"bar",data:this.data.value_list}]})}},mounted:function(){this.init().update(this.data)},props:{id:[String],title:[String,Number],subtext:[String,Number],hoverTitle:[String,Number],textList:{type:Array,required:!0},valueList:{type:Array,required:!0}},watch:{valueList:function(t){this.data.value_list=t,this.update()},textList:function(t){this.data.text_list=t,this.update()},title:function(t){this.data.title=t,this.update()},subtext:function(t){this.data.subtext=t,this.update()},hoverTitle:function(t){this.data.hover_title=t,this.update()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(859),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(76),n=i(s);t.exports={name:"echarts",data:function(){return{chartDom:null,data:{}}},methods:{init:function(){return this.chartDom=n.default.init(document.getElementById("chartDom")),this},update:function(){null===this.chartDom&&this.init(),this.chartDom.setOption({title:{text:"Bar Chart",subtext:"数据来自网络"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2011年","2012年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["巴西","印尼","美国","印度","中国","世界人口(万)"]},series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]})}},mounted:function(){this.init().update(this.data)}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(860),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Default:a(421),Horizontal:a(423)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(76),n=i(s);t.exports={name:"echarts",data:function(){return{chartDom:null,data:{title:"垂直方向柱状标题",subtext:"子标题描述信息"}}},methods:{init:function(){return this.chartDom=n.default.init(document.getElementById("chartDom")),this},update:function(){null===this.chartDom&&this.init(),this.chartDom.setOption({title:{text:"Line Chart"},tooltip:{trigger:"axis"},legend:{data:["邮件营销","联盟广告","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]})}},mounted:function(){this.init().update()}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(861),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Default:a(426)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(76),n=i(s);t.exports={name:"echarts",data:function(){return{chartDom:null,data:{id:this.id,title:this.title,subtext:this.subtext,hover_title:this.hoverTitle,data_list:this.dataList,text_list:[]}}},methods:{init:function(){return this.data.id&&(this.chartDom=n.default.init(document.getElementById(this.data.id))),this},update:function(){null===this.chartDom&&this.init(),this.chartDom.setOption({title:{text:this.data.title,subtext:this.data.subtext,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:this.data.text_list},series:[{name:this.data.hover_title,type:"pie",radius:"55%",data:this.data.data_list,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},updateTextList:function(){var t=this.data.data_list;this.data.text_list=[];for(var e=0;e<t.length;e++)this.data.text_list.push(t[e].name);return this}},mounted:function(){this.updateTextList().init().update()},props:{id:{type:String,required:!0},title:[String,Number],subtext:[String,Number],hoverTitle:[String,Number],dataList:{type:Array,required:!0}},watch:{dataList:function(t){this.data.value_list=t,this.updateTextList().update()},title:function(t){this.data.title=t,this.update()},subtext:function(t){this.data.subtext=t,this.update()},hoverTitle:function(t){this.data.hover_title=t,this.update()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(862),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Bar:a(424),Pie:a(142),Line:a(427)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(21),n=i(s);t.exports={name:"list",data:function(){return{checkall_temp:"_checkall_temp",fields:this.FieldList||[],editor:this.Editor||{},submit_data:this.DefaultValue||{},rules:this.Rules||{},wangEditor:{editor:{},many:!1,has:!1,bar:["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","insertcode","|","undo","redo","fullscreen"],temp:{}}}},methods:{initEditor:function(t,e){t&&(this.wangEditor.editor[t]=new wangEditor(t),this.wangEditor.temp[t]={html:"",text:""}),this.configEditor(t,e).eventEditor(t).createEditor(t)},configEditor:function(t,e){var a=this;if(t&&e){if(this.wangEditor.editor[t].config={},this.wangEditor.editor[t].config.uploadImgFns={},this.wangEditor.editor[t].config.uploadImgFileName=e.name||this.editor.name||"sls-admin",this.wangEditor.editor[t].config.uploadImgUrl=e.url||this.editor.url||"",this.wangEditor.editor[t].config.uploadParams=e.params||this.editor.params||{},Array.isArray(e.show_bar)&&e.show_bar.length)var i=e.show_bar;else if(Array.isArray(e.hide_bar)&&e.hide_bar.length)var i=this.wangEditor.bar.filter(function(t){return e.hide_bar.indexOf(t)===-1});else if(Array.isArray(this.editor.show_bar)&&this.editor.show_bar.length)var i=this.editor.show_bar;else if(Array.isArray(this.editor.hide_bar)&&this.editor.hide_bar.length)var i=this.wangEditor.bar.filter(function(t){return a.editor.hide_bar.indexOf(t)===-1});else var i=this.wangEditor.bar;if(this.wangEditor.many===!0&&i.indexOf("location")!==-1)var i=i.splice(i.indexOf("location"),1);this.wangEditor.editor[t].config.menus=i,console.log(this.wangEditor.editor[t].config.menus)}return this},eventEditor:function(t){var e=this,a=this;return this.wangEditor.editor[t].config.uploadImgFns.onload=function(t){if(200===t.status){var e=this.uploadImgOriginalName||"";this.command(null,"insertHtml",'<img src="'+t.data.fileinfo.getSaveName+'" alt="'+e+'" style="max-width:100%;"/>')}else 404===t.status?a.$message.error("上传错误信息：token无效！"):a.$message.error("上传错误信息："+t.msg)},this.wangEditor.editor[t].config.uploadImgFns.onerror=function(t){e.$message.error("上传错误信息：网络错误！")},this.wangEditor.editor[t].onchange=function(){var e=this.$txt.text().replace(/(^\s*)|(\s*$)/g,""),i=this.$txt.html();a.wangEditor.temp[t].html=i,a.wangEditor.temp[t].text=e,a.$emit("onEditorChange",{id:t,data:{html:i,text:e}})},this},createEditor:function(t){console.log(this.wangEditor.editor[t]),this.wangEditor.editor[t].create(),console.log(t)},initCheckall:function(t){var e={};e.text=t.checkall.text,e.value=t.checkall.value,e.indeterminate=t.checkall.indeterminate,e.checkbox_list=t.value.list,e.checkbox_value=t.value.default,this.$set(this.submit_data,t.key+this.checkall_temp,e)},onDateTimeChange:function(t,e,a){var i=this;t[e].change&&"function"==typeof t[e].change||this.$set(t[e],"change",function(s){switch(a){case"range":var n=s.split(" - ");i.submit_data[t[e].key]=n;break;default:i.submit_data[t[e].key]=s}})},onDateOptions:function(t,e,a){var i=t[e];if(!i.options){var s={},n=[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}],r=function(t){return t.getTime()<Date.now()-864e5};i.shortcuts===!0&&(s.shortcuts=n),i.disabledDate===!0&&(s.disabledDate=r),i.disabledDate&&i.disabledDate.constructor===Function&&(s.disabledDate=i.disabledDate),i.shortcuts&&i.shortcuts.constructor===Array&&(s.shortcuts=i.shortcuts),this.$set(t[e],"options",s)}},onTimeOptions:function(t,e,a){var i=t[e];if(!i.options){var s={};this.$set(t[e],"options",s)}},initDate:function(t,e,a){this.onDateTimeChange(t,e,a),this.onDateOptions(t,e,a)},initTime:function(t,e,a){this.onDateTimeChange(t,e,a),this.onTimeOptions(t,e,a)},initYear:function(t,e){this.onDateTimeChange(t,e)},initMonth:function(t,e){this.onDateTimeChange(t,e)},initWeek:function(t,e){this.onDateTimeChange(t,e),t[e].format||this.$set(t[e],"format","yyyy 第 WW 周")},deepObj:function(){if(this.fields)for(var t=this.fields,e=0,a=(!!this.submit_data.id,0);a<t.length;a++){var i=t[a];if(i.value&&i.value.constructor===Object?i.checkall&&"object"===(0,n.default)(i.checkall)?this.initCheckall(i):this.$set(this.submit_data,i.key,i.value.default):this.$set(this.submit_data,i.key,i.value),i.type)switch(i.type){case"editor":e++,this.initEditor(i.id,i.config||{}),2==e&&(this.wangEditor.many=!0),1==e&&(this.wangEditor.has=!0);break;case"date":this.initDate(t,a);break;case"daterange":this.initDate(t,a,"range");break;case"year":this.initYear(t,a);break;case"month":this.initMonth(t,a);break;case"week":this.initWeek(t,a);break;case"time":this.initTime(t,a);break;case"datetime":this.initDate(t,a);break;case"datetimerange":this.initDate(t,a,"range")}}},onSubmit:function(t){var e=this,a={data:this.submit_data};this.wangEditor.has===!0&&(a.editor_temp_data=this.wangEditor.temp),this.rules?this.$refs[t].validate(function(t){t&&e.$emit("onSubmit",a)}):this.$emit("onSubmit",a)},onCheckboxChange:function(t){var e=this.submit_data[t+this.checkall_temp];e.checkbox_value.length>0&&e.checkbox_value.length<e.checkbox_list.length?e.indeterminate=!0:e.indeterminate=!1,e.value=e.checkbox_value.length===e.checkbox_list.length},onCheckallChange:function(t){var e=this.submit_data[t+this.checkall_temp];e.indeterminate=!1;var a=[];if(1==e.value)for(var i=0;i<e.checkbox_list.length;i++)a.push(e.checkbox_list[i].value);e.checkbox_value=a},onCascaderItemChange:function(t){},onChangeDateTime:function(t){console.log(t+"    formdata")}},created:function(){this.deepObj()},mounted:function(){},props:{FieldList:{type:Array,required:!0},Editor:{type:Object},Rules:{type:Object},DefaultValue:{type:Object}},watch:{FieldList:{deep:!0,handler:function(t){t&&(this.fields=t)}},DefaultValue:function(t){t&&(this.submit_data=t)}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(863),n=i(s);t.exports=n.default},function(t,e,a){"use strict";var i=a(145);t.exports={name:"head-nav",data:function(){var t=this;return{dialog:{show_access:!1,show_set:!1,show_pass:!1,title:"修改密码",user_info:this.$store.state.user.userinfo,set_info:{login_style:"",disabled_update_pass:[],select_users:[]},user_info_rules:{old_password:[{required:!0,message:"旧密码不能为空！",trigger:"blur"}],password:[{required:!0,message:"新密码不能为空！",trigger:"blur"},{trigger:"blur",validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):(""!==t.dialog.user_info.password&&t.$refs.user_info.validateField("password_confirm"),i())}}],password_confirm:[{required:!0,message:"确认密码不能为空！",trigger:"blur"},{trigger:"blur",validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.dialog.user_info.password?i(new Error("两次输入密码不一致!")):i()}}]}}}},mounted:function(){},methods:{logout:function(){var t=this;this.$confirm("你确定退出登录么?","确认退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("remove_userinfo").then(function(){t.$router.push("/login")})})},setDialogInfo:function(t){if(!t)return console.log("test"),void this.$message("菜单选项缺少command属性");switch(t){case"info":this.$router.push({path:"/manage/user/edit",query:{id:this.$store.state.user.userinfo.id}});break;case"pass":this.dialog.show_pass=!0,this.dialog.title="修改密码";break;case"set":this.onGetSetting(),this.dialog.show_set=!0,this.dialog.title="系统设置"}},updUserPass:function(t){var e=this;this.$refs[t].validate(function(a){a&&i.user.updPass.call(e,{old_password:e.dialog[t].old_password,password:e.dialog[t].password,password_confirm:e.dialog[t].password_confirm},function(t){e.dialog.show_pass=!1,e.$message.success("修改成功！")})})},onGetSetting:function(){var t=this;0==this.$store.state.user.userinfo.pid?i.system.getSetting.call(this,function(e){e.setting_info.disabled_update_pass?e.setting_info.disabled_update_pass=e.setting_info.disabled_update_pass.split(","):e.setting_info.disabled_update_pass=[],e.setting_info.login_style=e.setting_info.login_style+"",t.dialog.set_info=e.setting_info}):this.$message.error("只有管理员才能操作！")},onUpdateSetting:function(){var t=this;i.system.updateSetting.call(this,{id:this.dialog.set_info.id,login_style:this.dialog.set_info.login_style,disabled_update_pass:this.dialog.set_info.disabled_update_pass&&this.dialog.set_info.disabled_update_pass.length?this.dialog.set_info.disabled_update_pass.join(","):""},function(e){t.dialog.show_set=!1})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"left-menu",data:function(){return{menu_list:[],win_size:{height:""}}},methods:{setSize:function(){this.win_size.height=$(window).height()+"px"},toggleMenu:function(){this.$store.dispatch(this.$store.state.leftmenu.menu_flag?"set_menu_close":"set_menu_open")},updateCurMenu:function(t){var t=t||this.$route;if(t.matched.length){var e=t.matched[0].path,a=t.path;this.$store.dispatch("set_cur_route",{rootPath:e,fullPath:a});for(var i=this.$router.options.routes,s=0;s<i.length;s++)if(i[s].path===e&&!i[s].hidden){this.menu_list=i[s].children;break}}else this.$router.push("/404")}},created:function(){var t=this;this.setSize(),$(window).resize(function(){t.setSize()}),this.updateCurMenu()},mounted:function(){},watch:{$route:function(t,e){this.updateCurMenu(t)}}}},function(t,e){"use strict";t.exports={name:"list-data",data:function(){return{batch_flag:!0,batch_datas:[],batch_ids:[],image_host:this.ImageHost,list:this.List,fields:this.FieldList,selection:this.Selection,expand:this.Expand,btn_info:this.BtnInfo,pagination:this.Pagination}},methods:{onSelectionChange:function(t){if(this.batch_datas=t,this.batch_ids=[],t.length){this.batch_flag=!1;for(var e=0;e<t.length;e++)this.batch_ids.push(t[e].id)}else this.batch_flag=!0;this.$emit("onSelectionChange",this.batch_ids,this.batch_datas),this.$emit("onSelectionChangeObj",{ids:this.batch_ids,datas:this.batch_datas})},onDelete:function(t,e){var a={};t===!0?(a.batch_ids=this.batch_ids,a.batch_datas=this.batch_datas):(a.data=t,a.index=e),this.$emit("onDelete",a)},onAdd:function(){this.$emit("onAdd",{})},onGetInfo:function(t,e,a,i){this.$emit("onGetInfo",{row:t,index:e,list:a,type:i})},onBtnEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.$emit("onBtn"+t,{row:e,index:a,list:i})},onUpdateBtn:function(t,e,a){if(this.btn_info.update&&this.btn_info.update.path){for(var i=this.btn_info.update.path,s=this.btn_info.update.param_keys||[],n=this.btn_info.update.query_keys||[],r={},o=0;o<s.length;o++)i+="/"+t[s[o]];for(var o=0;o<n.length;o++)r[n[o]]=t[n[o]];this.$router.push({path:i,query:r})}else this.onGetInfo(t,e,a,"update")},onUpdateList:function(t){Array.isArray(t)?this.list=this.list.filter(function(e,a){return t.indexOf(e.id)===-1}):this.list.splice(t,1)},onChangeCurrentPage:function(t){this.$emit("onChangeCurrentPage",t)},onChangePageSize:function(t){this.$emit("onChangePageSize",t)}},mounted:function(){},props:{ImageHost:{type:String,default:""},List:{type:Array,required:!0},FieldList:{type:Array,required:!0},BtnInfo:{type:Object,default:function(){return{}}},Selection:{type:Boolean,default:!1},Expand:{type:Object,default:function(){return{show:!1,position:"left"}}},Pagination:{type:Object,default:function(){return{}}}},watch:{ImageHost:function(t){t&&(this.image_host=t)},List:function(t){t&&(this.list=t)},FieldList:function(t){t&&(this.fields=t)},Selection:function(t){this.selection=t},Expand:function(t){this.expand=t},BtnInfo:function(t){this.btn_info=t},Pagination:function(t){this.pagination=t}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(866),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Bread:a(857),HeadNav:a(864),LeftMenu:a(865),Echarts:a(430),ListData:a(436),FormData:a(432),DialogInfo:a(419)}},function(t,e){"use strict";t.exports={name:"login",data:function(){var t=this;return{winSize:{width:"",height:""},formOffset:{position:"absolute",left:"",top:""},remumber:this.$store.state.user.remumber,register:!1,login_actions:{disabled:!1},data:{username:"",password:""},rule_data:{username:[{validator:function(t,e,a){""===e?a(new Error("请输入用户名")):/^[a-zA-Z0-9_-]{1,16}$/.test(e)?a():a(new Error("用户名至少6位,由大小写字母和数字,-,_组成"))},trigger:"blur"}],password:[{validator:function(e,a,i){""===a?i(new Error("请输入密码")):/^[a-zA-Z0-9_-]{6,16}$/.test(a)?(t.register===!0&&""!==t.data.repassword&&t.$refs.data.validateField("repassword"),i()):i(new Error("密码至少6位,由大小写字母和数字,-,_组成"))},trigger:"blur"}],repassword:[{validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.data.password?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]}}},methods:{setSize:function(){this.winSize.width=$(window).width()+"px",this.winSize.height=$(window).height()+"px",this.formOffset.left=parseInt(this.winSize.width)/2-175+"px",this.formOffset.top=parseInt(this.winSize.height)/2-178+"px"},onLogin:function(t,e){var a=this;return e&&this.register===!0?void this.$message.error("请输入确认密码"):void this.$refs[t].validate(function(e){e&&(a.login_actions.disabled=!0,a.$$api_user_login(a[t],function(e){a.remumber.remumber_flag===!0?a.$store.dispatch("update_remumber",{remumber_flag:a.remumber.remumber_flag,remumber_login_info:{username:a[t].username,token:e.userinfo.token}}):a.$store.dispatch("remove_remumber");try{e.userinfo.web_routers=JSON.parse(e.userinfo.web_routers)?JSON.parse(e.userinfo.web_routers):{}}catch(t){e.userinfo.web_routers={}}try{e.userinfo.api_routers=JSON.parse(e.userinfo.api_routers)?JSON.parse(e.userinfo.api_routers):{}}catch(t){e.userinfo.api_routers={}}a.$store.dispatch("update_userinfo",{userinfo:e.userinfo}).then(function(){a.login_actions.disabled=!1,e.userinfo.default_web_routers?a.$router.push(e.userinfo.default_web_routers):a.$router.push("/manage")})},{errFn:function(){a.login_actions.disabled=!1},tokenFlag:!0}))})},onRegister:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.login_actions.disabled=!0,e.$$api_user_register(e[t],function(t){e.login_actions.disabled=!1,e.$message.success("注册成功，请登录。"),e.toggleStatus(!1)},{errFn:function(){e.login_actions.disabled=!1},tokenFlag:!0}))})},resetForm:function(t){this.$refs[t].resetFields()},toggleStatus:function(t){this.register=t,this.register===!0?this.$set(this.data,"repassword",""):this.$delete(this.data,"repassword")}},created:function(){var t=this;this.setSize(),$(window).resize(function(){t.setSize()})},mounted:function(){this.remumber.remumber_flag===!0&&(this.data.username=this.remumber.remumber_login_info.username,this.data.password=this.remumber.remumber_login_info.token.substring(0,16),this.$set(this.data,"token",this.remumber.remumber_login_info.token))}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(867),n=i(s);t.exports=n.default},function(t,e){"use strict";t.exports={name:"company",data:function(){return{company_data:{comapnyname:"",phone:"",address:"",contact:"",contact_phone:"",memo:"",status:1},company_rules:{}}},methods:{save_company:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$route.query.id?e.$$api_company_saveCompany(e[t],function(t){e.$router.push("/manage/company/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_company_createCompany(e[t],function(t){e.$router.push("/manage/company/list")}))})},reset_company:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_company_findCompany({id:this.$route.query.id},function(e){t.company_data=e.companyinfo,console.log(t.company_data)}):(this.$delete(this.company_data,"id"),this.$refs.company_data.resetFields())}},mounted:function(){this.getView()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(868),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},company_list:[],batch_id:"",batch_flag:!0,search_data:{companyname:"",contact:""},dialog:{show:!1,company_info:{}},status_filters:{list:[{text:"启用",value:1},{text:"禁用",value:0}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"}}},methods:(s={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setcompanyAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.company_id.length?companyApi.setAccesscompany.call(this,{company_id:this.company_id.join(","),company_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("公司不能为空");
},formatterStatus:function(t){return 1==t.status?"启用":"禁用"},formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onSetStatuscompany:function(t,e,a){this.$$api_company_updatecompanyStatus({id:t.id},function(e){t.status=1==t.status?2:1})},onDeletecompany:function(t,e,a){var i=this,s="你确定删除公司 "+t.companyname+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除公司",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_company_deleteCompany({id:n},function(s){t===!0?i.company_list=i.company_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditcompany:function(t){t&&t.id?this.$router.push("/manage/company/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectcompany:function(t){this.dialog.show=!0,this.dialog.company_info=t}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"onSetStatusCompany",function(t,e,a){this.$$api_company_saveCompany({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_company_selectCompany(o,function(e){t.company_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),s),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(869),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(441),List:a(443)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _assign=__webpack_require__(27),_assign2=_interopRequireDefault(_assign),_Pie=__webpack_require__(142);module.exports={name:"dashboard",components:{Statis:_Pie.Default},data:function(){return{echarts_data:{id:"orderPieDefault",title:"订单状态",hover_title:"订单量",data_list:[{name:"未发运",value:"0"},{name:"待发运",value:"0"},{name:"已发运",value:"0"},{name:"已完成",value:"0"},{name:"已取消",value:"0"},{name:"退单",value:"0"}]},line_data:{linename:"",licenseplate:"",drivername:"",startaddr:"",endaddr:"",path:[],process:1,starttime:"",endtime:"",orderlist:[]},line_rules:{},trucklist:[],line_list:[],isIndeterminate:!0,checkeds:[],defaultProps:{children:"children",label:"name"},poslist:[],bmapReady:!1,linestatus:new Array("","待发运","在途","完结","作废")}},methods:{formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},formatterStatus:function(t){return this.linestatus[t.status]},formatterWeight:function(t){return t.weight.toFixed(2)},filterStatus:function(t,e){return e.status==t},onSelectionChange:function onSelectionChange(val){var _this=this;this.poslist=[],val.length&&val.forEach(function(r){var list=eval("("+r.path+")");list.forEach(function(t){_this.poslist.push(t)})})},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(e.page,e.page_size,e.where),i=e.fn,s=this.$route.query,n={};if(a)n=(0,_assign2.default)(n,a||{});else for(var r in s)void 0!==this.search_data[r]&&(this.search_data[r]=s[r],n[r]=s[r]);this.$$api_line_selectLine(n,function(e){t.line_list=e.list.data,i&&i()})},bmapReadyHandler:function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915},loadtrucklist:function(){var t=this;this.$$api_truck_selectTruck({},function(e){var a=e.list;a.data.forEach(function(t){var e=[];e.lng=t.longitude,e.lat=t.latitude,t.position=e}),t.trucklist=e.list.data})},loadorderstatics:function(){var t=this;this.$$api_order_staticsOrder({},function(e){var a=e;a.forEach(function(e){var a=t.echarts_data.data_list[e.status-1];a.value=e.count,t.$set(t.echarts_data.data_list,e.status-1,a)})})}},mounted:function(){this.getList({fn:function(){}}),this.loadtrucklist(),this.loadorderstatics()},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(870),n=i(s);t.exports=n.default},function(t,e){"use strict";t.exports={name:"driver",data:function(){return{driver_data:{username:"",phone:"",email:"",driverlicense:"",memo:"",status:1},driver_rules:{}}},methods:{save_driver:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$route.query.id?e.$$api_driver_saveDriver(e[t],function(t){e.$router.push("/manage/driver/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_driver_createDriver(e[t],function(t){e.$router.push("/manage/driver/list")}))})},reset_driver:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_driver_findDriver({id:this.$route.query.id},function(e){t.driver_data=e.driverinfo,console.log(t.driver_data)}):(this.$delete(this.driver_data,"id"),this.$refs.driver_data.resetFields())}},mounted:function(){this.getView()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(871),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},driver_list:[],batch_id:"",batch_flag:!0,search_data:{username:"",phone:""},dialog:{show:!1,driver_info:{}},status_filters:{list:[{text:"启用",value:1},{text:"禁用",value:0}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"}}},methods:(s={formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setdriverAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.driver_id.length?driverApi.setAccessdriver.call(this,{driver_id:this.driver_id.join(","),driver_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("司机不能为空")},formatterStatus:function(t){return 1==t.status?"启用":"禁用"},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onSetStatusdriver:function(t,e,a){this.$$api_driver_updatedriverStatus({id:t.id},function(e){t.status=1==t.status?2:1})},onDeletedriver:function(t,e,a){var i=this,s="你确定删除司机 "+t.drivername+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除司机",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_driver_deleteDriver({id:n},function(s){t===!0?i.driver_list=i.driver_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditdriver:function(t){t&&t.id?this.$router.push("/manage/driver/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectdriver:function(t){this.dialog.show=!0,this.dialog.driver_info=t}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"onSetStatusDriver",function(t,e,a){this.$$api_driver_saveDriver({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_driver_selectDriver(o,function(e){t.driver_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),s),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(872),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(448),List:a(450)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"line",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},line_data:{linename:"",licenseplate:"",drivername:"",startaddr:"",endaddr:"",path:[],process:1,starttime:"",endtime:"",orderlist:[]},line_rules:{},trucklist:[],driverlist:[],order_list:[],batch_id:"",batch_flag:!0,search_data:{linename:""},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"},poslist:[],bmapReady:!1}},methods:(s={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},formatterStatus:function(t){return this.linestatus[t.status]},formatterWeight:function(t){return t.weight.toFixed(2)},formatterNumber:function(t){return moment(t.lastupdate).format("lll")},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(this.poslist=[],this.line_data.orderlist=[],t.length){this.batch_flag=!1;for(var e=[],a=[],i=0;i<t.length;i++){if(!a.includes(t[i].fhunit)){var s={};s.lng=t[i].fhlongitude,s.lat=t[i].fhlatitude,s.name=t[i].fhunit,this.poslist.push(s),a.push(t[i].fhunit),this.line_data.startaddr=t[i].fhaddress,this.line_data.starttime=t[i].fhtime}e.push(t[i].id);var n={};n.lng=t[i].shlongitude,n.lat=t[i].shlatitude,n.name=t[i].shunit,this.poslist.push(n),this.line_data.endaddr=t[i].shaddress,this.line_data.endtime=t[i].shtime,this.line_data.orderlist.push(t[i].orderno)}this.line_data.path=this.poslist,!this.line_data.linename&&a.length&&(this.line_data.linename=a[0]),this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);o.status=1,this.$$api_order_selectOrder(o,function(e){t.order_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),(0,r.default)(s,"save_line",function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$route.query.id?e.$$api_line_saveLine(e[t],function(t){e.$router.push("/manage/line/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_line_createLine(e[t],function(t){e.$router.push("/manage/line/list")}))})}),(0,r.default)(s,"reset_line",function(t){this.$refs[t].resetFields()}),(0,r.default)(s,"getView",function(){var t=this;this.$route.query.id?this.$$api_line_findLine({id:this.$route.query.id},function(e){t.line_data=e.lineinfo,t.line_data.positioncode=[],t.line_data.positioncode.lng=e.lineinfo.longitude,t.line_data.positioncode.lat=e.lineinfo.latitude}):(this.$delete(this.line_data,"id"),this.$refs.line_data.resetFields())}),(0,r.default)(s,"bmapReadyHandler",function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915}),(0,r.default)(s,"queryDriver",function(t,e){var a=this.driverlist,i=t?a.filter(this.createStateFilter(t)):a;e(i)}),(0,r.default)(s,"queryTruck",function(t,e){var a=this.trucklist,i=t?a.filter(this.createStateFilter(t)):a;e(i)}),(0,r.default)(s,"createStateFilter",function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}}),(0,r.default)(s,"selTruck",function(t){this.line_data.licenseplate=t.licenseplate}),(0,r.default)(s,"selDriver",function(t){this.line_data.drivername=t.username}),(0,r.default)(s,"loadtrucklist",function(){var t=this;this.$$api_truck_selectTruck({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.licenseplate}),t.trucklist=e.list.data})}),(0,r.default)(s,"loaddriverlist",function(){var t=this;this.$$api_driver_selectDriver({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.username}),t.driverlist=e.list.data})}),s),mounted:function(){this.getList({fn:function(){}}),this.loadtrucklist(),this.loaddriverlist()},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(873),n=i(s);t.exports=n.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _defineProperty2=__webpack_require__(20),_defineProperty3=_interopRequireDefault(_defineProperty2),_typeof2=__webpack_require__(21),_typeof3=_interopRequireDefault(_typeof2),_assign=__webpack_require__(27),_assign2=_interopRequireDefault(_assign),_methods;module.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},line_list:[],batch_id:"",batch_flag:!0,search_data:{linename:""},dialog:{show:!1,data:{poslist:[]}},status_filters:{list:[{text:"待发运",value:1},{text:"在途",value:2},{text:"完结",value:3},{text:"作废",value:4}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"},linestatus:new Array("","待发运","在途","完结","作废")}},methods:(_methods={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setlineAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.line_id.length?lineApi.setAccessline.call(this,{line_id:this.line_id.join(","),line_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("不能为空")},formatterStatus:function(t){return this.linestatus[t.status]},formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,_assign2.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onDeleteline:function(t,e,a){var i=this,s="你确定删除 "+t.linename+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_line_deleteLine({id:n},function(s){t===!0?i.line_list=i.line_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditline:function(t){t&&t.id?this.$router.push("/manage/line/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectline:function onSelectline(line){var pathlist=eval("("+line.path+")");pathlist.forEach(function(t){var e=[];e.lng=t.lng,e.lat=t.lat,t.pos=e}),this.dialog.data.poslist=pathlist,console.log(this.dialog.data.poslist),this.dialog.show=!0}},(0,_defineProperty3.default)(_methods,"setPath",function(t,e){var a=this.$route.path,i=(0,_assign2.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,_typeof3.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,_defineProperty3.default)(_methods,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,_defineProperty3.default)(_methods,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,_defineProperty3.default)(_methods,"onSetStatusLine",function(t,e,a){this.$$api_line_saveLine({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,_defineProperty3.default)(_methods,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,_assign2.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_line_selectLine(o,function(e){t.line_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),(0,_defineProperty3.default)(_methods,"bmapReadyHandler",function(t){t.BMap,t.map;this.lng=120.152217,this.lat=30.284408}),_methods),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(874),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(453),List:a(455)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(20),n=i(s);t.exports={name:"order",data:function(){var t;return{order_data:(t={id:"",orderno:"",companyid:0,paperreceipt:1,abnormal:1,status:1,endway:1,fhunit:"",fhunitphone:"",fhname:"",fhphone:"",fhlongitude:0,fhlatitude:0,shunit:"",shunitphone:"",shname:"",shphone:"",shlongitude:0,shlatitude:0,fhtime:"",shtime:"",productcode:"",productname:"",packing:"",packagecount:0,weight:0,paymentmode:3,deliverymode:2,totalfee:0,attachment:"",createtime:new Date,updatetime:""},(0,n.default)(t,"shtime",new Date),(0,n.default)(t,"memo",""),(0,n.default)(t,"drivername",""),(0,n.default)(t,"licenseplate",""),t),order_rules:{},deliveryoptions:[{value:1,label:"自提"},{value:2,label:"送货上门"}],payoptions:[{value:1,label:"现付"},{value:2,label:"回付"},{value:3,label:"月结"},{value:4,label:"欠付"},{value:5,label:"到付"},{value:6,label:"现付欠付"},{value:7,label:"现付回付"},{value:8,label:"现付到付"},{value:9,label:"到付回付"},{value:10,label:"到付欠付"},{value:11,label:"汇款"},{value:12,label:"支票"}],packoption:[{value:"纸箱"},{value:"木箱"},{value:"铁桶"},{value:"塑料桶"},{value:"纸桶"},{value:"纸袋"}],statusoption:[{value:1,label:"未发运"},{value:2,label:"待发运"},{value:3,label:"在途"},{value:4,label:"退回"},{value:5,label:"完结"},{value:6,label:"作废"}],comlist:[],sitelist:[],trucklist:[],driverlist:[]}},methods:{save_order:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$route.query.id?e.$$api_order_saveOrder(e[t],function(t){e.$router.push("/manage/order/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_order_createOrder(e[t],function(t){e.$router.push("/manage/order/list")}))})},reset_order:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_order_findOrder({id:this.$route.query.id},function(e){e.orderinfo.weight=e.orderinfo.weight.toFixed(2),e.orderinfo.totalfee=e.orderinfo.totalfee.toFixed(2),t.order_data=e.orderinfo}):(this.$delete(this.order_data,"id"),this.$refs.order_data.resetFields())},queryDriver:function(t,e){var a=this.driverlist,i=t?a.filter(this.createStateFilter(t)):a;e(i)},queryTruck:function(t,e){var a=this.trucklist,i=t?a.filter(this.createStateFilter(t)):a;e(i)},queryCompany:function(t,e){var a=this.comlist,i=t?a.filter(this.createStateFilter(t)):a;e(i)},querySite:function(t,e){var a=this.sitelist,i=t?a.filter(this.createStateFilter(t)):a;e(i)},createStateFilter:function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}},selFhunit:function(t){this.order_data.fhunitphone=t.phone,this.order_data.fhname=t.contact,this.order_data.fhphone=t.contact_phone,this.order_data.fhaddress=t.address,this.order_data.fhlongitude=t.longitude,this.order_data.fhlatitude=t.latitude},selShunit:function(t){console.log(t),this.order_data.shunitphone=t.phone,this.order_data.shname=t.contact,this.order_data.shphone=t.contact_phone,this.order_data.shaddress=t.address,this.order_data.shlongitude=t.longitude,this.order_data.shlatitude=t.latitude},selTruck:function(t){this.order_data.licenseplate=t.licenseplate},selDriver:function(t){this.order_data.drivername=t.username},loadcomlist:function(){var t=this;this.$$api_company_selectCompany({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.companyname}),t.comlist=e.list.data})},loadsitelist:function(){var t=this;this.$$api_site_selectSite({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.sitename}),t.sitelist=e.list.data})},loadtrucklist:function(){var t=this;this.$$api_truck_selectTruck({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.licenseplate}),t.trucklist=e.list.data})},loaddriverlist:function(){var t=this;this.$$api_driver_selectDriver({},function(e){var a=e.list;a.data.forEach(function(t){t.value=t.username}),t.driverlist=e.list.data})}},mounted:function(){this.getView(),this.sitelist=this.loadsitelist(),this.comlist=this.loadcomlist(),this.trucklist=this.loadtrucklist(),this.driverlist=this.loaddriverlist()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(875),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},order_list:[],batch_id:"",batch_flag:!0,search_data:{username:""},dialog:{show:!1,order_info:{}},status_filters:{list:[{text:"未发运",value:1},{text:"待发运",value:2},{text:"在途",value:3},{text:"退回",value:4},{text:"完结",value:5},{text:"作废",value:6}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"},orderstatus:new Array("","未发运","待发运","在途","退回","完结","作废")}},methods:(s={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setorderAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.order_id.length?orderApi.setAccessorder.call(this,{order_id:this.order_id.join(","),order_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("订单不能为空")},formatterStatus:function(t){return this.orderstatus[t.status]},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onSetStatusorder:function(t,e,a){this.$$api_order_updateorderStatus({id:t.id},function(e){t.status=1==t.status?2:1})},onDeleteorder:function(t,e,a){var i=this,s="你确定删除订单 "+t.ordername+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除订单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_order_deleteOrder({id:n},function(s){t===!0?i.order_list=i.order_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditorder:function(t){t&&t.id?this.$router.push("/manage/order/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectorder:function(t){this.dialog.show=!0,this.dialog.order_info=t}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"onSetStatusOrder",function(t,e,a){this.$$api_order_saveOrder({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,r.default)(s,"formatterDatetime",function(t){return moment(t.lastupdate).format("lll")}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_order_selectOrder(o,function(e){t.order_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),s),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(876),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(458),List:a(460)}},function(t,e){"use strict";t.exports={name:"site",data:function(){return{site_data:{id:"",sitename:"",contact:"",phone:"",contact_phone:"",adress:"",memo:"",postioncode:{lng:116.404,lat:39.915},longitude:0,latitude:0,lastupdate:""},site_types:[],site_rules:{},bmapReady:!1}},methods:{save_site:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$delete(e[t],"positioncode"),e.$route.query.id?e.$$api_site_saveSite(e[t],function(t){e.$router.push("/manage/site/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_site_createSite(e[t],function(t){e.$router.push("/manage/site/list")}));
})},reset_site:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_site_findSite({id:this.$route.query.id},function(e){t.site_data=e.siteinfo,t.site_data.positioncode=[],t.site_data.positioncode.lng=e.siteinfo.longitude,t.site_data.positioncode.lat=e.siteinfo.latitude}):(this.$delete(this.site_data,"id"),this.$refs.site_data.resetFields())},bmapReadyHandler:function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915}},mounted:function(){this.getView()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(877),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},site_list:[],batch_id:"",batch_flag:!0,search_data:{username:"",phone:""},dialog:{show:!1,site_info:{licenseplate:"",positioncode:{lng:0,lat:0}}},status_filters:{list:[{text:"启用",value:1},{text:"禁用",value:0}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"}}},methods:(s={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setsiteAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.site_id.length?siteApi.setAccesssite.call(this,{site_id:this.site_id.join(","),site_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("车辆不能为空")},formatterStatus:function(t){return 1==t.status?"启用":"禁用"},formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onDeletesite:function(t,e,a){var i=this,s="你确定删除车辆 "+t.sitename+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除车辆",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_site_deleteSite({id:n},function(s){t===!0?i.site_list=i.site_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditsite:function(t){t&&t.id?this.$router.push("/manage/site/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectsite:function(t){this.dialog.site_info=t,this.dialog.site_info.positioncode=[],this.dialog.site_info.positioncode.lng=t.longitude,this.dialog.site_info.positioncode.lat=t.latitude,this.dialog.show=!0}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"onSetStatusSite",function(t,e,a){this.$$api_site_saveSite({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_site_selectSite(o,function(e){t.site_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),(0,r.default)(s,"bmapReadyHandler",function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915}),s),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(878),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(463),List:a(465)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(20),n=i(s);t.exports={name:"truck",data:function(){var t;return{truck_data:(t={id:"",licenseplate:"",truck_type:"",tonnage:0,volume_length:0},(0,n.default)(t,"volume_length",0),(0,n.default)(t,"volume_length",0),(0,n.default)(t,"postioncode",{lng:120.152217,lat:30.284408}),(0,n.default)(t,"longitude",0),(0,n.default)(t,"latitude",0),(0,n.default)(t,"lastupdate",""),t),truck_types:[],truck_rules:{},bmapReady:!1}},methods:{save_truck:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$delete(e[t],"positioncode"),e.$route.query.id?e.$$api_truck_saveTruck(e[t],function(t){e.$router.push("/manage/truck/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_truck_createTruck(e[t],function(t){e.$router.push("/manage/truck/list")}))})},reset_truck:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_truck_findTruck({id:this.$route.query.id},function(e){t.truck_data=e.truckinfo,t.truck_data.positioncode=[],t.truck_data.positioncode.lng=e.truckinfo.longitude,t.truck_data.positioncode.lat=e.truckinfo.latitude}):(this.$delete(this.truck_data,"id"),this.$refs.truck_data.resetFields())},bmapReadyHandler:function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915},load_truck_types:function(){return[{value:"小货车",tonnage:"1.2",volume_length:"2",volume_width:"1.2",volume_height:"1.5"},{value:"厢式货车",tonnage:"2.0",volume_length:"3",volume_width:"1.5",volume_height:"2"},{value:"大货车",tonnage:"4.5",volume_length:"4",volume_width:"2",volume_height:"2.5"}]},querySearch:function(t,e){var a=this.truck_types,i=t?a.filter(this.createFilter(t)):a;e(i)},createFilter:function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}},fillparams:function(t){this.truck_data.tonnage=t.tonnage,this.truck_data.volume_length=t.volume_length,this.truck_data.volume_width=t.volume_width,this.truck_data.volume_height=t.volume_height}},mounted:function(){this.getView(),this.truck_types=this.load_truck_types()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(879),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},truck_list:[],batch_id:"",batch_flag:!0,search_data:{username:"",phone:""},dialog:{show:!1,truck_info:{licenseplate:"",positioncode:{lng:0,lat:0}}},status_filters:{list:[{text:"启用",value:1},{text:"禁用",value:0}],multiple:!1},checkAll:!0,isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"}}},methods:(s={handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},settruckAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.truck_id.length?truckApi.setAccesstruck.call(this,{truck_id:this.truck_id.join(","),truck_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("车辆不能为空")},formatterStatus:function(t){return 1==t.status?"启用":"禁用"},formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onDeletetruck:function(t,e,a){var i=this,s="你确定删除车辆 "+t.truckname+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除车辆",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_truck_deleteTruck({id:n},function(s){t===!0?i.truck_list=i.truck_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEdittruck:function(t){t&&t.id?this.$router.push("/manage/truck/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelecttruck:function(t){this.dialog.truck_info.positioncode.lng=t.longitude,this.dialog.truck_info.positioncode.lat=t.latitude,this.dialog.truck_info.licenseplate=t.licenseplate,this.dialog.show=!0}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"onSetStatusTruck",function(t,e,a){this.$$api_truck_saveTruck({id:t.id},function(e){t.status=1==t.status?2:1})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_truck_selectTruck(o,function(e){t.truck_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),(0,r.default)(s,"bmapReadyHandler",function(t){t.BMap,t.map;this.lng=116.404,this.lat=39.915}),s),mounted:function(){this.getList({fn:function(){}})},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(880),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(468),List:a(470)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(95),n=i(s),r=a(526),o=i(r),l=a(144);t.exports={name:"user",components:{},data:function(){return{username:"",checkeds:{web_routers:{},api_routers:{}},props:{web_routers:{children:"children",label:"name"},api_routers:{children:"list",label:"name"}},datas:{web_routers:[],api_routers:[]},data:{id:"",web_routers:"",api_routers:"",default_web_routers:"",access_status:!1}}},methods:{checkChangeWebRouters:function(t,e,a){e!==!0||4!=t.access.split("/").length||this.checkeds.web_routers[t.access]||this.$set(this.checkeds.web_routers,t.access,t.name),e===!1&&this.checkeds.web_routers[t.access]&&(this.$delete(this.checkeds.web_routers,t.access),t.access===this.data.default_web_routers&&(this.data.default_web_routers=""))},checkChangeApiRouters:function(t,e,a){e!==!0||t.list||this.checkeds.api_routers[t.path]||this.$set(this.checkeds.api_routers,t.path,t.name),e===!1&&this.checkeds.api_routers[t.path]&&this.$delete(this.checkeds.api_routers,t.path)},initRouters:function(){for(var t=this.$router.options.routes,e=0;e<t.length;e++)if(t[e].hidden!==!0&&t[e].children&&t[e].children.length){var a={},i=t[e],s=i.children;a.name=i.name,a.path=i.path,a.access=i.path,a.children=[];for(var n=0;n<s.length;n++)if(s[n].children&&s[n].children.length){var r={},o=s[n],l=o.children;r.name=o.name,r.path="/"+o.path,r.access=a.path+"/"+o.path,r.children=[];for(var u=0;u<l.length;u++){var c={},d=l[u];c.name=d.name,c.path="/"+d.path,c.access=a.path+"/"+o.path+"/"+d.path,r.children.push(c)}a.children.push(r)}this.datas.web_routers.push(a)}},initApis:function(){this.datas.api_routers=l.request},getUserinfo:function(){var t=this;this.$$api_user_findUser({id:this.data.id},function(e){t.username=e.userinfo.username,t.data.access_status=1===e.userinfo.access_status,t.data.default_web_routers=e.userinfo.default_web_routers,t.data.web_routers=e.userinfo.web_routers,t.data.api_routers=e.userinfo.api_routers,e.userinfo.web_routers&&(t.checkeds.web_routers=JSON.parse(e.userinfo.web_routers));var a=(0,o.default)(t.checkeds.web_routers).filter(function(t){return 4===t.split("/").length});t.$refs.webRouters.setCheckedKeys(a),e.userinfo.api_routers&&(t.checkeds.api_routers=JSON.parse(e.userinfo.api_routers)),t.$refs.apiRouters.setCheckedKeys((0,o.default)(t.checkeds.api_routers)),console.log(t.checkeds.web_routers)})},setUserAccess:function(){var t=this,e=!1;for(var a in this.checkeds.web_routers){var i=a.split("/");if(4===i.length){e=!0;var s="/"+i[1],r=s+"/"+i[2];this.checkeds.web_routers[s]||(this.checkeds.web_routers[s]=s),this.checkeds.web_routers[r]||(this.checkeds.web_routers[r]=r)}}e===!1&&(this.checkeds.web_routers={}),this.data.web_routers=(0,n.default)(this.checkeds.web_routers),this.data.api_routers=(0,n.default)(this.checkeds.api_routers),this.data.access_status=this.data.access_status===!0?1:2,this.data.id?1!==this.data.access_status||this.data.default_web_routers?this.$$api_user_updateUserAccess(this.data,function(e){t.data.access_status=1===t.data.access_status,t.$message.success("设置成功")}):this.$message.error("开启权限时必须设置默认页面"):this.$message.error("缺少用户ID")}},mounted:function(){this.data.id=this.$route.query.id,this.initRouters(),this.initApis(),this.getUserinfo()},watch:{}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(881),n=i(s);t.exports=n.default},function(t,e){"use strict";t.exports={name:"user",data:function(){return{user_data:{email:"",username:"",phone:"",status:"1"},user_rules:{email:[{required:!0,message:"邮箱不能为空！",trigger:"blur"},{type:"email",message:"邮箱格式不正确！",trigger:"blur"}],username:[{required:!0,message:"用户名不能为空！",trigger:"blur"}],phone:[{required:!0,message:"联系电话不能为空！",trigger:"change"},{pattern:/^1[34578]\d{9}$/,message:"联系电话格式不正确！",trigger:"blur"}]}}},methods:{save_user:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.$route.query.id?e.$$api_user_saveUser(e[t],function(t){e.$router.push("/manage/user/edit?id="+e.$route.query.id),e.$message.success("修改成功")}):e.$$api_user_createUser(e[t],function(t){e.$router.push("/manage/user/list")}))})},reset_user:function(t){this.$refs[t].resetFields()},getView:function(){var t=this;this.$route.query.id?this.$$api_user_findUser({id:this.$route.query.id},function(e){t.user_data.status=e.userinfo.status,t.user_data=e.userinfo}):(this.$delete(this.user_data,"id"),this.$refs.user_data.resetFields())}},mounted:function(){this.getView()},watch:{$route:function(t,e){this.getView()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(882),n=i(s);t.exports=n.default},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s,n=a(20),r=i(n),o=a(21),l=i(o),u=a(27),c=i(u);t.exports={name:"list",data:function(){return{paginations:{current_page:1,total:0,page_size:12,page_sizes:[3,9,12,24],layout:"total, sizes, prev, pager, next, jumper"},user_list:[],batch_id:"",batch_flag:!0,search_data:{username:"",email:""},dialog:{show:!1,user_info:{}},dialog_access:{show:!1,userinfo:{},web_routers:[],api_routers:[]},status_filters:{list:[{text:"启用",value:1},{text:"禁用",value:0}],multiple:!1},checkAll:!0,checkedCities:["上海","北京"],cities:["上海","北京","广州","深圳"],isIndeterminate:!0,accesss:[],checkeds:[],defaultProps:{children:"children",label:"name"}}},methods:(s={formatterDatetime:function(t){return moment(t.lastupdate).format("lll")},handleCheckAllChange:function(t){this.checkedCities=t.target.checked?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.cities.length,this.isIndeterminate=e>0&&e<this.cities.length},filterNode:function(t,e){return!t||e.label.indexOf(t)!==-1},currentChange:function(t,e){},nodeClick:function(t,e,a){},checkChange:function(t,e,a){if(e===!0&&4==t.access.split("/").length&&this.checkeds.indexOf(t.access)===-1)this.checkeds.push(t.access);else{var i=this.checkeds.indexOf(t.access);i!==-1&&this.checkeds.splice(i,1)}},setUserAccess:function(){for(var t=this,e=!1,a=0;a<this.checkeds.length;a++){var i=this.checkeds[a].split("/");if(4===i.length){e=!0;var s="/"+i[1],n=s+"/"+i[2];this.checkeds.indexOf(s)===-1&&this.checkeds.push(s),this.checkeds.indexOf(n)===-1&&this.checkeds.push(n)}}e===!1&&(this.checkeds=[]),this.user_id.length?UserApi.setAccessUser.call(this,{user_id:this.user_id.join(","),user_accesss:this.checkeds.join(",")},function(e){t.$message.success("设置成功")}):this.$message.error("用户不能为空")},initRouters:function(){for(var t=this.$router.options.routes,e=0;e<t.length;e++)if(t[e].hidden!==!0&&t[e].children&&t[e].children.length){var a={},i=t[e],s=i.children;a.name=i.name,a.path=i.path,a.access=i.path,a.children=[];for(var n=0;n<s.length;n++)if(s[n].hidden!==!0&&s[n].children&&s[n].children.length){var r={},o=s[n],l=o.children;r.name=o.name,r.path="/"+o.path,r.access=a.path+"/"+o.path,r.children=[];for(var u=0;u<l.length;u++)if(l[u].hidden!==!0){var c={},d=l[u];c.name=d.name,c.path="/"+d.path,c.access=a.path+"/"+o.path+"/"+d.path,r.children.push(c)}a.children.push(r)}this.accesss.push(a)}},formatterStatus:function(t){return 1==t.status?"启用":"禁用"},filterStatus:function(t,e){return e.status==t},onSearch:function(){console.log(this.search_data);var t={},e=this.$route.query;for(var a in e)t[a]=e[a];for(var i in this.search_data)t[i]=this.search_data[i],t[i]||delete t[i];this.$router.push({path:this.$route.path,query:t})},onSelectionChange:function(t){if(t.length){this.batch_flag=!1;for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);this.batch_id=e.join(",")}else this.batch_flag=!0,this.batch_id=""},setPath:function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);i[t]=e,this.$router.push({path:a,query:i})},onChangeCurrentPage:function(t){this.setPath("page",t)},onChangePageSize:function(t){this.setPath("page_size",t)},onSetStatusUser:function(t,e,a){this.$$api_user_updateUserStatus({id:t.id},function(e){t.status=1==t.status?2:1})},onSetAccess:function(t,e,a){this.$router.push({path:"/manage/user/access",query:{id:t.id}})},onDeleteUser:function(t,e,a){var i=this,s="你确定删除用户 "+t.username+" 么?";if(t===!0){var n=this.batch_id;s="你确定要批量删除"+n+"么?"}else var n=t.id;this.$confirm(s,"删除用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$$api_user_deleteUser({id:n},function(s){t===!0?i.user_list=i.user_list.filter(function(t,e){return n.indexOf(t.id)===-1}):a.splice(e,1),i.getList()})})},onEditUser:function(t){t&&t.id?this.$router.push("/manage/user/edit?id="+t.id):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},onSelectUser:function(t){this.dialog.show=!0,this.dialog.user_info=t}},(0,r.default)(s,"setPath",function(t,e){var a=this.$route.path,i=(0,c.default)({},this.$route.query);"object"===("undefined"==typeof t?"undefined":(0,l.default)(t))?i=t:i[t]=e,this.$router.push({path:a,query:i})}),(0,r.default)(s,"onChangeCurrentPage",function(t){var e=this;this.getList({page:t,fn:function(){e.setPath("page",t)}})}),(0,r.default)(s,"onChangePageSize",function(t){var e=this;this.getList({page_size:t,fn:function(){e.setPath("page_size",t)}})}),(0,r.default)(s,"getList",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.page,i=e.page_size,s=e.where,n=e.fn,r=this.$route.query;this.paginations.current_page=a||parseInt(r.page)||1,this.paginations.page_size=i||parseInt(r.page_size)||this.paginations.page_size;var o={page:this.paginations.current_page,page_size:this.paginations.page_size};if(s)o=(0,c.default)(o,s||{});else for(var l in r)void 0!==this.search_data[l]&&(this.search_data[l]=r[l],o[l]=r[l]);this.$$api_user_selectUser(o,function(e){t.user_list=e.list.data,t.paginations.total=e.list.total,n&&n()})}),s),mounted:function(){this.getList({fn:function(){}}),this.initRouters()},watch:{$route:function(t,e){this.getList()}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(883),n=i(s);t.exports=n.default},function(t,e,a){"use strict";t.exports={Edit:a(475),List:a(477),Access:a(473)}},function(t,e,a){"use strict";t.exports={User:a(478),Company:a(444),Driver:a(451),Truck:a(471),Order:a(461),Site:a(466),Line:a(456),DashBoard:a(446)}},function(t,e,a){"use strict";t.exports={Manage:a(479)}},function(t,e){"use strict";t.exports=[{name:"获取公司列表",method:"selectCompany",path:"list/company",type:"get"},{name:"添加公司",method:"createCompany",path:"post/company",type:"post"},{name:"修改公司",method:"saveCompany",path:"save/company",type:"patch"},{name:"删除公司",method:"deleteCompany",path:"delete/company",type:"delete"},{name:"获取公司信息",method:"findCompany",path:"find/company",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"获取司机列表",method:"selectDriver",path:"list/driver",type:"get"},{name:"添加司机",method:"createDriver",path:"post/driver",type:"post"},{name:"修改司机",method:"saveDriver",path:"save/driver",type:"patch"},{name:"删除司机",method:"deleteDriver",path:"delete/driver",type:"delete"},{name:"获取司机信息",method:"findDriver",path:"find/driver",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"获取线路列表",method:"selectLine",path:"list/line",type:"get"},{name:"添加线路",method:"createLine",path:"post/line",type:"post"},{name:"修改线路",method:"saveLine",path:"save/line",type:"patch"},{name:"删除线路",method:"deleteLine",path:"delete/line",type:"delete"},{name:"获取线路信息",method:"findLine",path:"find/line",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"获取订单列表",method:"selectOrder",path:"list/order",type:"get"},{name:"添加订单",method:"createOrder",path:"post/order",type:"post"},{name:"修改订单",method:"saveOrder",path:"save/order",type:"patch"},{name:"删除订单",method:"deleteOrder",path:"delete/order",type:"delete"},{name:"获取订单信息",method:"findOrder",path:"find/order",type:"get"},{name:"获取订单状态",method:"staticsOrder",path:"statics/order/statics/",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"获取站点列表",method:"selectSite",path:"list/site",type:"get"},{name:"添加站点",method:"createSite",path:"post/site",type:"post"},{name:"修改站点",method:"saveSite",path:"save/site",type:"patch"},{name:"删除站点",method:"deleteSite",path:"delete/site",type:"delete"},{name:"获取站点信息",method:"findSite",path:"find/site",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"获取车辆列表",method:"selectTruck",path:"list/truck",type:"get"},{name:"添加车辆",method:"createTruck",path:"post/truck",type:"post"},{name:"修改车辆",method:"saveTruck",path:"save/truck",type:"patch"},{name:"删除车辆",method:"deleteTruck",path:"delete/truck",type:"delete"},{name:"获取车辆信息",method:"findTruck",path:"find/truck",type:"get"}]},function(t,e){"use strict";t.exports=[{name:"登录",method:"login",path:"/login/login",type:"post"},{name:"注册",method:"register",path:"reg/user",type:"post"},{name:"获取用户列表",method:"selectUser",path:"list/user",type:"get"},{name:"添加用户",method:"createUser",path:"create/user",type:"post"},{name:"修改用户",method:"saveUser",path:"save/user",type:"patch"},{name:"删除用户",method:"deleteUser",path:"delete/user",type:"delete"},{name:"获取用户信息",method:"findUser",path:"find/user",type:"get"},{name:"修改密码",method:"updatePass",path:"uppass/user",type:"patch"},{name:"设置权限",method:"updateUserAccess",path:"access/user",type:"patch"},{name:"设置用户状态",method:"updateUserStatus",path:"status/user",type:"patch"}]},function(t,e,a){"use strict";var i=a(143);t.exports=[{path:"/manage",name:"业务管理",icon:"inbox",component:i.Home,redirect:"/manage/dashboard",children:[{path:"user",name:"用户管理",icon:"inbox",component:i.Content,redirect:"/manage/user/list",children:[{path:"list",name:"用户列表",icon:"reorder",component:i.Modules.Manage.User.List},{path:"edit",name:"编辑用户",icon:"edit",component:i.Modules.Manage.User.Edit},{path:"access",hidden:!0,name:"设置权限",icon:"edit",component:i.Modules.Manage.User.Access}]},{path:"company",name:"公司管理",icon:"inbox",component:i.Content,redirect:"/manage/company/list",children:[{path:"list",name:"公司列表",icon:"reorder",component:i.Modules.Manage.Company.List},{path:"edit",name:"编辑公司",icon:"edit",component:i.Modules.Manage.Company.Edit}]},{path:"driver",name:"司机管理",icon:"inbox",component:i.Content,redirect:"/manage/driver/list",children:[{path:"list",name:"司机列表",icon:"reorder",component:i.Modules.Manage.Driver.List},{path:"edit",name:"编辑司机",icon:"edit",component:i.Modules.Manage.Driver.Edit}]},{path:"truck",name:"车辆管理",icon:"inbox",component:i.Content,redirect:"/manage/truck/list",children:[{path:"list",name:"车辆列表",icon:"reorder",component:i.Modules.Manage.Truck.List},{path:"edit",name:"编辑车辆",icon:"edit",component:i.Modules.Manage.Truck.Edit}]},{path:"site",name:"站点管理",icon:"inbox",component:i.Content,redirect:"/manage/site/list",children:[{path:"list",name:"站点列表",icon:"reorder",component:i.Modules.Manage.Site.List},{path:"edit",name:"编辑管理",icon:"edit",component:i.Modules.Manage.Site.Edit}]},{path:"order",name:"订单管理",icon:"inbox",component:i.Content,redirect:"/manage/order/list",children:[{path:"list",name:"订单列表",icon:"reorder",component:i.Modules.Manage.Order.List},{path:"edit",name:"编辑订单",icon:"edit",component:i.Modules.Manage.Order.Edit}]},{path:"line",name:"线路管理",icon:"inbox",component:i.Content,redirect:"/manage/line/list",children:[{path:"list",name:"线路列表",icon:"reorder",component:i.Modules.Manage.Line.List},{path:"edit",name:"编辑线路",icon:"edit",component:i.Modules.Manage.Line.Edit}]},{path:"dashboard",name:"DashBoard",icon:"inbox",component:i.Modules.Manage.DashBoard,hidden:!0}]}]},function(t,e){"use strict";t.exports={onCheckEditor:function(t){var e=t.editor_temp_data,a=t.field_infos,i=t.type,s={status:200};for(var n in e)if(!e[n].text&&(e[n].html.indexOf("<iframe")==-1||e[n].html.indexOf("</iframe>")==-1)&&e[n].html.indexOf("<img")==-1){a&&a[n]&&this.$message.error(a[n].msg),s.status=1,s.id=n;break}return i===!0?200===s.status:s},onSubmit:function(t){var e=t.data,a=t.editor_temp_data;if(a){var i=this.onCheckEditor({editor_temp_data:a,field_infos:this.tips,type:!0});if(i){for(var s in this.tips)e[this.tips[s].field]=a[s].html;this.onSubmitFn&&this.onSubmitFn(e)}}else this.onSubmitFn&&this.onSubmitFn(e)}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(27),n=i(s);t.exports={getDataList:function(){var t=this,e=this.$route.query,a=(0,n.default)({},{page_size:this.pagination.page_size,page:this.pagination.current_page},e);this[this.apis.method.get_list](a,function(e){t.list=e.list.data,t.pagination.total=e.list.total})},onChangeCurrentPage:function(t){this.setRoutePath({page:t})},onChangePageSize:function(t){this.setRoutePath({page_size:t})},setRoutePath:function(t){var e=this.$route.query,a=(0,n.default)({},e,t),i=this.$route.path;this.$router.push({path:i,query:a}),this.getDataList()},onGetInfo:function(t){switch(console.log("on-get-info"),console.log(t),t.type){case"select":console.log("select");break;case"update":this.$router.push({path:this.apis.route.update_path,query:{id:t.row.id}})}},onDelete:function(t){var e=this;if(console.log("on-delete"),console.log(t),t.index>=0)var a=!1,i=t.data.id;else var a=!0,i=t.batch_ids.join(",");this[this.apis.method.delete_data]({id:i},function(i){a===!0?e.list=e.list.filter(function(e){return t.batch_ids.indexOf(e.id)===-1}):e.list.splice(t.index,1)})},onSelectionChange:function(t,e){console.log("on-selection-change")},onSelectionChangeObj:function(t){t.ids,t.datas;console.log("on-selection-change-obj")}}},function(t,e,a){"use strict";t.exports={ListData:a(490),FormData:a(489)}},function(t,e,a){"use strict";t.exports={Common:a(491)}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t){var e={};if(t&&"object"===("undefined"==typeof t?"undefined":(0,l.default)(t)))for(var a in t)"function"==typeof t[a]&&(e[a]=t[a]),"object"===(0,l.default)(t[a])&&(0,r.default)(e,s(t[a]));return e}var n=a(27),r=i(n),o=a(21),l=i(o),u=a(22),c=i(u),d={methods:s(a(492))};c.default.mixin(d)},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}for(var s=a(21),n=i(s),r=a(144),o=a(57),l={},u=0;u<r.request.length;u++)if("object"===(0,n.default)(r.request[u])&&r.request[u].list&&Array.isArray(r.request[u].list))for(var c=0;c<r.request[u].list.length;c++)l["api_"+r.request[u].module+"_"+r.request[u].list[c].method]=function(t,e){return function(a,i,s){var n=r.request[t].list[e].path;this.$$ajax(r.request[t].list[e].type,n.substring(n.indexOf("/")),a,i,s)}}(u,c);t.exports={plugins:{api_methods:l,ajax:o.ajax}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(21),n=i(s),r=a(22),o=i(r),l=a(494);o.default.use({install:function(t,e){var a=function t(e,a){for(var i in a)"object"===(0,n.default)(a[i])?t(e,a[i]):e.prototype["$$"+i]=a[i]};a(t,l.plugins)}})},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}var s=a(147),n=i(s);t.exports={clear_local:function(t){var e=t.commit;e(n.CLEAR_LOCAL)},update_local:function(t){var e=t.commit;e(n.UPDATE_LOCAL)},update_cur_shop_status:function(t,e){var a=t.commit;a(n.UPDATE_CUR_SHOP_STATUS,e)},delete_db:function(t){var e=t.commit;e(n.DELETE_DB),e(n.UPDATE_LOCAL)},create_db:function(t,e){var a=t.commit,i=e.shop;a(n.CREATE_DB,i),a(n.UPDATE_LOCAL)},add_db:function(t){var e=t.commit;e(n.ADD_DB),e(n.UPDATE_LOCAL)},reduce_db:function(t){var e=t.commit;e(n.REDUCE_DB),
e(n.UPDATE_LOCAL)},check_db:function(t,e){var a=t.commit;a(n.CHECK_DB,e)}}},function(t,e){"use strict";t.exports={getInfos:function(t){t.cartInfos.total_price=0,t.cartInfos.total_nums=0;for(var e=t.cartList,a=0;a<e.length;a++){var i=parseInt(e[a].price),s=parseInt(e[a].num);t.cartInfos.total_price+=i*s,t.cartInfos.total_nums+=s}return t.cartInfos},getCartList:function(t){return t.cartList}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(500),n=i(s),r=a(499),o=i(r),l=a(497),u=i(l),c=a(496),d=i(c);t.exports={state:n.default,mutations:o.default,getters:u.default,actions:d.default}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n,r=a(20),o=s(r),l=a(95),u=s(l),c=a(147),d=i(c);t.exports=(n={},(0,o.default)(n,d.CLEAR_LOCAL,function(t){t.cartList.forEach(function(t){t.num=0}),t.cartList=[],localStorage.removeItem("vuex_cart")}),(0,o.default)(n,d.UPDATE_LOCAL,function(t){localStorage.setItem("vuex_cart",(0,u.default)(t.cartList))}),(0,o.default)(n,d.UPDATE_CUR_SHOP_STATUS,function(t,e){var a=e.index,i=void 0===a?-1:a;t.curIndex=i}),(0,o.default)(n,d.DELETE_DB,function(t){t.curIndex>=0&&(t.cartList[t.curIndex].num=0,t.cartList.splice(t.curIndex,1))}),(0,o.default)(n,d.CREATE_DB,function(t,e){t.cartList.push(e)}),(0,o.default)(n,d.ADD_DB,function(t){t.cartList[t.curIndex].num=parseInt(t.cartList[t.curIndex].num),t.cartList[t.curIndex].num++}),(0,o.default)(n,d.REDUCE_DB,function(t){t.cartList[t.curIndex].num=parseInt(t.cartList[t.curIndex].num),t.cartList[t.curIndex].num--,0==t.cartList[t.curIndex].num&&t.cartList.splice(t.curIndex,1)}),(0,o.default)(n,d.CHECK_DB,function(t,e){var a=e.id;t.curIndex=-1;var i=t.cartList;if(i.length)for(var s=0;s<i.length;s++)if(i[s].id==a){t.curIndex=s;break}}),n)},function(t,e){"use strict";t.exports={cartList:localStorage.getItem("vuex_cart")?JSON.parse(localStorage.getItem("vuex_cart")):[],cartInfos:{total_price:0,total_nums:0},curIndex:-1}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n=a(153),r=s(n),o=a(148),l=i(o);t.exports={show_loading:function(t){var e=t.commit;return new r.default(function(t,a){e(l.SHOW_LOADING),t()})},hide_loading:function(t){var e=t.commit;return new r.default(function(t,a){e(l.HIDE_LOADING),t()})}}},function(t,e){"use strict";t.exports={}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(505),n=i(s),r=a(504),o=i(r),l=a(502),u=i(l),c=a(501),d=i(c);t.exports={state:n.default,mutations:o.default,getters:u.default,actions:d.default}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n,r=a(20),o=s(r),l=a(148),u=i(l);a(57);t.exports=(n={},(0,o.default)(n,u.SHOW_LOADING,function(t){t.ajax_loading=!0}),(0,o.default)(n,u.HIDE_LOADING,function(t){t.ajax_loading=!1}),n)},function(t,e,a){"use strict";a(57);t.exports={ajax_loading:!1}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(22),n=i(s),r=a(328),o=i(r),l=a(498),u=i(l),c=a(514),d=i(c),h=a(509),f=i(h),p=a(519),_=i(p),m=a(503),g=i(m);n.default.use(o.default),t.exports=new o.default.Store({modules:{global:g.default,cart:u.default,router:d.default,leftmenu:f.default,user:_.default}})},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}var s=a(149),n=i(s);t.exports={set_menu_open:function(t){var e=t.commit;e(n.SET_MENU_OPEN)},set_menu_close:function(t){var e=t.commit;e(n.SET_MENU_CLOSE)}}},function(t,e){"use strict";t.exports={}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(511),n=i(s),r=a(510),o=i(r),l=a(508),u=i(l),c=a(507),d=i(c);t.exports={state:n.default,mutations:o.default,getters:u.default,actions:d.default}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n,r=a(20),o=s(r),l=a(149),u=i(l);t.exports=(n={},(0,o.default)(n,u.SET_MENU_OPEN,function(t){t.width="190px",t.menu_flag=!0}),(0,o.default)(n,u.SET_MENU_CLOSE,function(t){t.width="50px",t.menu_flag=!1}),n)},function(t,e){"use strict";t.exports={width:"190px",menu_flag:!0}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}var s=a(150),n=i(s);t.exports={set_cur_route:function(t,e){var a=t.commit;a(n.SET_CUR_ROUTE,e)}}},function(t,e){"use strict";t.exports={}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(516),n=i(s),r=a(515),o=i(r),l=a(513),u=i(l),c=a(512),d=i(c);t.exports={state:n.default,mutations:o.default,getters:u.default,actions:d.default}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n=a(20),r=s(n),o=a(150),l=i(o);t.exports=(0,r.default)({},l.SET_CUR_ROUTE,function(t,e){t.headerCurRouter=e.rootPath,t.leftCurRouter=e.fullPath})},function(t,e){"use strict";t.exports={headerCurRouter:"",leftCurRouter:""}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n=a(153),r=s(n),o=a(151),l=i(o);t.exports={update_userinfo:function(t,e){var a=t.commit,i=e.userinfo;return new r.default(function(t,e){a(l.UPDATE_USERINFO,{userinfo:i}),t()})},remove_userinfo:function(t){var e=t.commit;return new r.default(function(t,a){e(l.REMOVE_USERINFO),t()})},update_remumber:function(t,e){var a=t.commit,i=e.remumber_flag,s=e.remumber_login_info;return new r.default(function(t,e){a(l.UPDATE_REMUMBER,{remumber_flag:i,remumber_login_info:s}),t()})},remove_remumber:function(t){var e=t.commit;return new r.default(function(t,a){e(l.REMOVE_REMUMBER),t()})}}},function(t,e){"use strict";t.exports={getUserinfo:function(t){return t.userinfo},getToken:function(t){return t.userinfo&&t.userinfo.token?t.userinfo.token:""},getRemumber:function(t){return t.remumber}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(521),n=i(s),r=a(520),o=i(r),l=a(518),u=i(l),c=a(517),d=i(c);t.exports={state:n.default,mutations:o.default,getters:u.default,actions:d.default}},function(t,e,a){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var n,r=a(20),o=s(r),l=a(151),u=i(l),c=a(57);t.exports=(n={},(0,o.default)(n,u.UPDATE_USERINFO,function(t,e){t.userinfo=e.userinfo||{},c.store.set("userinfo",t.userinfo)}),(0,o.default)(n,u.REMOVE_USERINFO,function(t){c.store.remove("userinfo"),t.userinfo={}}),(0,o.default)(n,u.UPDATE_REMUMBER,function(t,e){t.remumber.remumber_flag=e.remumber_flag,t.remumber.remumber_login_info=e.remumber_login_info,c.store.set("remumber_flag",t.remumber.remumber_flag),c.store.set("remumber_login_info",t.remumber.remumber_login_info)}),(0,o.default)(n,u.REMOVE_REMUMBER,function(t){c.store.remove("remumber_flag"),c.store.remove("remumber_login_info"),t.remumber.remumber_flag=!1,t.remumber.remumber_login_info={username:"",token:""}}),n)},function(t,e,a){"use strict";var i=a(57);t.exports={userinfo:i.store.get("userinfo")||{},remumber:{remumber_flag:!!i.store.get("remumber_flag"),remumber_login_info:i.store.get("remumber_login_info")||{username:"",token:""}}}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(21),n=i(s),r=a(22),o=i(r),l=a(368),u=i(l),c=a(854),d=i(c),h=a(94);o.default.use(d.default,u.default),o.default.axios.defaults.baseURL=h.gbs.host,t.exports=function(t,e,a,i){var s=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=r.cbFn,u=r.tokenFlag,c=r.errFn,d=r.host,f=r.headers,p=r.axios_opts,_={method:t,url:d||e,headers:f&&"object"===("undefined"==typeof f?"undefined":(0,n.default)(f))?f:{}},m=!0;if(_.url&&_.url.indexOf(h.gbs.host)&&1===this.$store.state.user.userinfo.access_status){var e=_.url.replace(h.gbs.host,""),g=this.$store.state.user.userinfo.api_routers;g&&!g.constructor!==Object&&g[e]||(m=!1)}if(m===!0){if(void 0!=a.id&&(_.url=_.url+"/"+a.id),void 0!=a.id&&"get"===t||(_["get"===t?"params":"data"]=a),this.$store.dispatch("show_loading"),u!==!0&&(_.headers.token=this.$store.state.user.userinfo.token),p&&"object"===("undefined"==typeof p?"undefined":(0,n.default)(p)))for(var v in p)_[v]=p[v];o.default.axios(_).then(function(t){200===t.data.status?i(t.data.data):l?l(t.data):(h.cbs.statusError.call(s,t.data),u===!0&&c&&c.call(s)),s.$store.dispatch("hide_loading")}).catch(function(t){s.$store.dispatch("hide_loading"),h.cbs.requestError.call(s,t),c&&c.call(s)})}else this.$alert("您没用权限请求该接口！","请求错误",{confirmButtonText:"确定",type:"warning"})}},function(t,e,a){"use strict";t.exports=a(522)},function(t,e,a){"use strict";t.exports=a(525)},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=a(21),n=i(s),r=a(95),o=i(r),l=a(529),u=i(l),c=a(530),d=i(c),h=a(94),f=function(){function t(){(0,u.default)(this,t),this.store=window.localStorage,this.prefix=h.gbs.db_prefix}return(0,d.default)(t,[{key:"set",value:function(t,e,a){try{e=(0,o.default)(e)}catch(t){e=e}this.store.setItem(this.prefix+t,e),a&&a()}},{key:"get",value:function(t,e){if(!t)throw new Error("没有找到key。");if("object"===("undefined"==typeof t?"undefined":(0,n.default)(t)))throw new Error("key不能是一个对象。");var a=this.store.getItem(this.prefix+t);if(null!==a)try{a=JSON.parse(a)}catch(t){a=a}return a}},{key:"remove",value:function(t){this.store.removeItem(this.prefix+t)}}]),t}();t.exports=new f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){function i(t){return a(s(t))}function s(t){return n[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var n={"./af":212,"./af.js":212,"./ar":219,"./ar-dz":213,"./ar-dz.js":213,"./ar-kw":214,"./ar-kw.js":214,"./ar-ly":215,"./ar-ly.js":215,"./ar-ma":216,"./ar-ma.js":216,"./ar-sa":217,"./ar-sa.js":217,"./ar-tn":218,"./ar-tn.js":218,"./ar.js":219,"./az":220,"./az.js":220,"./be":221,"./be.js":221,"./bg":222,"./bg.js":222,"./bn":223,"./bn.js":223,"./bo":224,"./bo.js":224,"./br":225,"./br.js":225,"./bs":226,"./bs.js":226,"./ca":227,"./ca.js":227,"./cs":228,"./cs.js":228,"./cv":229,"./cv.js":229,"./cy":230,"./cy.js":230,"./da":231,"./da.js":231,"./de":234,"./de-at":232,"./de-at.js":232,"./de-ch":233,"./de-ch.js":233,"./de.js":234,"./dv":235,"./dv.js":235,"./el":236,"./el.js":236,"./en-au":237,"./en-au.js":237,"./en-ca":238,"./en-ca.js":238,"./en-gb":239,"./en-gb.js":239,"./en-ie":240,"./en-ie.js":240,"./en-nz":241,"./en-nz.js":241,"./eo":242,"./eo.js":242,"./es":244,"./es-do":243,"./es-do.js":243,"./es.js":244,"./et":245,"./et.js":245,"./eu":246,"./eu.js":246,"./fa":247,"./fa.js":247,"./fi":248,"./fi.js":248,"./fo":249,"./fo.js":249,"./fr":252,"./fr-ca":250,"./fr-ca.js":250,"./fr-ch":251,"./fr-ch.js":251,"./fr.js":252,"./fy":253,"./fy.js":253,"./gd":254,"./gd.js":254,"./gl":255,"./gl.js":255,"./gom-latn":256,"./gom-latn.js":256,"./he":257,"./he.js":257,"./hi":258,"./hi.js":258,"./hr":259,"./hr.js":259,"./hu":260,"./hu.js":260,"./hy-am":261,"./hy-am.js":261,"./id":262,"./id.js":262,"./is":263,"./is.js":263,"./it":264,"./it.js":264,"./ja":265,"./ja.js":265,"./jv":266,"./jv.js":266,"./ka":267,"./ka.js":267,"./kk":268,"./kk.js":268,"./km":269,"./km.js":269,"./kn":270,"./kn.js":270,"./ko":271,"./ko.js":271,"./ky":272,"./ky.js":272,"./lb":273,"./lb.js":273,"./lo":274,"./lo.js":274,"./lt":275,"./lt.js":275,"./lv":276,"./lv.js":276,"./me":277,"./me.js":277,"./mi":278,"./mi.js":278,"./mk":279,"./mk.js":279,"./ml":280,"./ml.js":280,"./mr":281,"./mr.js":281,"./ms":283,"./ms-my":282,"./ms-my.js":282,"./ms.js":283,"./my":284,"./my.js":284,"./nb":285,"./nb.js":285,"./ne":286,"./ne.js":286,"./nl":288,"./nl-be":287,"./nl-be.js":287,"./nl.js":288,"./nn":289,"./nn.js":289,"./pa-in":290,"./pa-in.js":290,"./pl":291,"./pl.js":291,"./pt":293,"./pt-br":292,"./pt-br.js":292,"./pt.js":293,"./ro":294,"./ro.js":294,"./ru":295,"./ru.js":295,"./sd":296,"./sd.js":296,"./se":297,"./se.js":297,"./si":298,"./si.js":298,"./sk":299,"./sk.js":299,"./sl":300,"./sl.js":300,"./sq":301,"./sq.js":301,"./sr":303,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":303,"./ss":304,"./ss.js":304,"./sv":305,"./sv.js":305,"./sw":306,"./sw.js":306,"./ta":307,"./ta.js":307,"./te":308,"./te.js":308,"./tet":309,"./tet.js":309,"./th":310,"./th.js":310,"./tl-ph":311,"./tl-ph.js":311,"./tlh":312,"./tlh.js":312,"./tr":313,"./tr.js":313,"./tzl":314,"./tzl.js":314,"./tzm":316,"./tzm-latn":315,"./tzm-latn.js":315,"./tzm.js":316,"./uk":317,"./uk.js":317,"./ur":318,"./ur.js":318,"./uz":320,"./uz-latn":319,"./uz-latn.js":319,"./uz.js":320,"./vi":321,"./vi.js":321,"./x-pseudo":322,"./x-pseudo.js":322,"./yo":323,"./yo.js":323,"./zh-cn":324,"./zh-cn.js":324,"./zh-hk":325,"./zh-hk.js":325,"./zh-tw":326,"./zh-tw.js":326};i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=851},,function(t,e,a){t.exports=a.p+"static/img/logo.7f1e68b.png"},,,function(t,e,a){a(836);var i=a(6)(a(387),a(903),"data-v-468ef67e",null);t.exports=i.exports},function(t,e,a){a(842);var i=a(6)(a(388),a(909),"data-v-6a8eee94",null);t.exports=i.exports},function(t,e,a){a(826);var i=a(6)(a(389),a(893),"data-v-1faf8844",null);t.exports=i.exports},function(t,e,a){a(849);var i=a(6)(a(390),a(916),"data-v-f497ca92",null);t.exports=i.exports},function(t,e,a){a(833);var i=a(6)(a(391),a(900),"data-v-3f4c1b1a",null);t.exports=i.exports},function(t,e,a){a(843);var i=a(6)(a(392),a(910),"data-v-6b3d8370",null);t.exports=i.exports},function(t,e,a){a(828);var i=a(6)(a(393),a(895),"data-v-24d3d9b0",null);t.exports=i.exports},function(t,e,a){a(845);var i=a(6)(a(394),a(912),"data-v-7f79c004",null);t.exports=i.exports},function(t,e,a){a(820);var i=a(6)(a(395),a(887),"data-v-07638b68",null);t.exports=i.exports},function(t,e,a){a(844);var i=a(6)(a(396),a(911),"data-v-6b93b1f8",null);t.exports=i.exports},function(t,e,a){a(832);var i=a(6)(a(397),a(899),"data-v-3de23544",null);t.exports=i.exports},function(t,e,a){a(841);var i=a(6)(a(398),a(908),"data-v-645f2b7a",null);t.exports=i.exports},function(t,e,a){a(840);var i=a(6)(a(399),a(907),"data-v-63411474",null);t.exports=i.exports},function(t,e,a){a(839);var i=a(6)(a(400),a(906),"data-v-5e155e18",null);t.exports=i.exports},function(t,e,a){a(830);var i=a(6)(a(401),a(897),"data-v-353e3750",null);t.exports=i.exports},function(t,e,a){a(848);var i=a(6)(a(402),a(915),"data-v-eb1697fe",null);t.exports=i.exports},function(t,e,a){a(823);var i=a(6)(a(403),a(890),"data-v-0fae1efe",null);t.exports=i.exports},function(t,e,a){a(829);var i=a(6)(a(404),a(896),"data-v-2b2cab0d",null);t.exports=i.exports},function(t,e,a){a(847);var i=a(6)(a(405),a(914),"data-v-ce3e30e6",null);t.exports=i.exports},function(t,e,a){a(850);var i=a(6)(a(406),a(917),"data-v-fd969d76",null);t.exports=i.exports},function(t,e,a){a(827);var i=a(6)(a(407),a(894),"data-v-222e2476",null);t.exports=i.exports},function(t,e,a){a(838);var i=a(6)(a(408),a(905),"data-v-56d5e5c0",null);t.exports=i.exports},function(t,e,a){a(834);var i=a(6)(a(409),a(901),"data-v-424949a0",null);t.exports=i.exports},function(t,e,a){a(846);var i=a(6)(a(410),a(913),"data-v-aea696d4",null);t.exports=i.exports},function(t,e,a){a(825);var i=a(6)(a(411),a(892),"data-v-1660f116",null);t.exports=i.exports},function(t,e,a){a(822);var i=a(6)(a(412),a(889),"data-v-0aff55a4",null);t.exports=i.exports},function(t,e,a){a(835);var i=a(6)(a(413),a(902),"data-v-46183ab8",null);t.exports=i.exports},function(t,e,a){a(837);var i=a(6)(a(414),a(904),"data-v-4aa81f24",null);t.exports=i.exports},function(t,e,a){a(831);var i=a(6)(a(415),a(898),"data-v-3afa484f",null);t.exports=i.exports},function(t,e,a){a(824);var i=a(6)(a(416),a(891),"data-v-105ce2f9",null);t.exports=i.exports},function(t,e,a){a(821);var i=a(6)(a(417),a(888),"data-v-08101d89",null);t.exports=i.exports},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"head-nav"},[i("el-row",[i("el-col",{staticClass:"logo-container",attrs:{span:4}},[i("img",{staticClass:"logo",attrs:{src:a(853),alt:""}})]),t._v(" "),i("el-col",{attrs:{span:16}},[i("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"dark","default-active":t.$store.state.router.headerCurRouter,mode:"horizontal","unique-opened":"",router:""}},t._l(t.$router.options.routes,function(e,a){return!e.hidden&&(1===t.$store.state.user.userinfo.access_status&&t.$store.state.user.userinfo.web_routers[e.path]||1!==t.$store.state.user.userinfo.access_status)?i("el-menu-item",{attrs:{index:e.path}},[t._v("\n                        "+t._s(e.name))]):t._e()}))],1),t._v(" "),i("el-col",{staticClass:"userinfo",attrs:{span:4}},[i("span",{staticClass:"username"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.setDialogInfo}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                            "+t._s(this.$store.state.user.userinfo.username)),i("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"info"}},[t._v("修改信息")]),t._v(" "),t.$store.state.user.userinfo.is_update_pass?i("el-dropdown-item",{attrs:{command:"pass"}},[t._v("修改密码")]):t._e(),t._v(" "),0==t.$store.state.user.userinfo.pid?i("el-dropdown-item",{attrs:{command:"set"}},[t._v("系统设置")]):t._e()],1)],1)],1),t._v(" "),i("i",{staticClass:"fa fa-sign-out logout",on:{click:t.logout}})])],1)],1),t._v(" "),i("el-dialog",{attrs:{size:"small",title:t.dialog.title},model:{value:t.dialog.show_pass,callback:function(e){t.dialog.show_pass=e},expression:"dialog.show_pass"}},[i("el-form",{ref:"user_info",staticStyle:{margin:"20px",width:"80%"},attrs:{"label-width":"100px",model:t.dialog.user_info,rules:t.dialog.user_info_rules}},[i("el-form-item",{staticClass:"edit-form",attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{disabled:"",placeholder:"常用邮箱"},model:{value:t.dialog.user_info.email,callback:function(e){t.dialog.user_info.email=e},expression:"dialog.user_info.email"}})],1),t._v(" "),i("el-form-item",{staticClass:"edit-form",attrs:{label:"用户名称",prop:"username"}},[i("el-input",{attrs:{disabled:"",placeholder:"用户名"},model:{value:t.dialog.user_info.username,callback:function(e){t.dialog.user_info.username=e},expression:"dialog.user_info.username"}})],1),t._v(" "),i("el-form-item",{staticClass:"edit-form",attrs:{label:"当前密码",prop:"old_password"}},[i("el-input",{attrs:{type:"password",placeholder:"当前密码","auto-complete":"off"},model:{value:t.dialog.user_info.old_password,callback:function(e){t.dialog.user_info.old_password=e},expression:"dialog.user_info.old_password"}})],1),t._v(" "),i("el-form-item",{staticClass:"edit-form",attrs:{label:"新密码",prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"新密码","auto-complete":"off"},model:{value:t.dialog.user_info.password,callback:function(e){t.dialog.user_info.password=e},expression:"dialog.user_info.password"}})],1),t._v(" "),i("el-form-item",{staticClass:"edit-form",attrs:{label:"确认密码",prop:"password_confirm"}},[i("el-input",{attrs:{type:"password",placeholder:"确认密码","auto-complete":"off"},model:{value:t.dialog.user_info.password_confirm,callback:function(e){t.dialog.user_info.password_confirm=e},expression:"dialog.user_info.password_confirm"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog.show_pass=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updUserPass("user_info")}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{size:"small",title:t.dialog.title},model:{value:t.dialog.show_set,callback:function(e){t.dialog.show_set=e},expression:"dialog.show_set"}},[i("el-form",{ref:"set_info",staticStyle:{margin:"20px",width:"80%"},attrs:{"label-width":"100px"},model:{value:t.dialog.set_info,callback:function(e){t.dialog.set_info=e},expression:"dialog.set_info"}},[i("el-form-item",{attrs:{label:"登录方式"}},[i("el-select",{attrs:{placeholder:"请选择登录方式"},model:{value:t.dialog.set_info.login_style,callback:function(e){t.dialog.set_info.login_style=e},expression:"dialog.set_info.login_style"}},[i("el-option",{attrs:{label:"单一登录",value:"1"}}),t._v(" "),i("el-option",{attrs:{label:"多点登录",value:"2"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"禁止修改密码"}},[i("el-select",{attrs:{placeholder:"请选择用户",multiple:""},model:{value:t.dialog.set_info.disabled_update_pass,callback:function(e){t.dialog.set_info.disabled_update_pass=e},expression:"dialog.set_info.disabled_update_pass"}},t._l(t.dialog.set_info.select_users,function(t){return i("el-option",{attrs:{label:t.username,value:t.id+""}})}))],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog.show_set=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.onUpdateSetting}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[t._v("\n    没有找到页面\n    "),a("a",{attrs:{href:"#/function/open/test404"}},[t._v("回测试404页面")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"user_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.data}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"用户名称"}},[a("el-input",{attrs:{disabled:!0,placeholder:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"权限状态"}},[a("el-switch",{attrs:{"on-text":"开启","off-text":"关闭"},model:{value:t.data.access_status,callback:function(e){t.data.access_status=e},expression:"data.access_status"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"API路由"}},[a("el-tree",{ref:"apiRouters",staticClass:"filter-tree",attrs:{"show-checkbox":"","node-key":"path",data:t.datas.api_routers,props:t.props.api_routers},on:{"check-change":t.checkChangeApiRouters}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"web页面"}},[a("el-tree",{ref:"webRouters",staticClass:"filter-tree",attrs:{"show-checkbox":"","node-key":"access",data:t.datas.web_routers,props:t.props.web_routers},on:{"check-change":t.checkChangeWebRouters}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"默认页面"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"此页面必须包含在选择的web页面中"},model:{value:t.data.default_web_routers,callback:function(e){t.data.default_web_routers=e},expression:"data.default_web_routers"}},t._l(t.checkeds.web_routers,function(e,i){return 4===i.split("/").length?a("el-option",{attrs:{value:i,label:e}}):t._e()}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.setUserAccess}},[t._v("设置权限")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.search_data.username,callback:function(e){t.search_data.username=e},expression:"search_data.username"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"电话"},model:{value:t.search_data.phone,callback:function(e){t.search_data.phone=e},expression:"search_data.phone"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.driver_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{label:"备注",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("备注: "+t._s(e.row.memo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮件",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"司机电话",align:"center",width:"110",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"driverlicense",label:"驾照",align:"center","min-width":"180",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_time",label:"创建时间",formatter:t.formatterDatetime,align:"center",width:"180",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus,filters:t.status_filters.list,"filter-method":t.filterStatus,"filter-multiple":t.status_filters.multiple}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":150,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditdriver(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeletedriver(e.row,e.$index,t.driver_list)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:1==e.row.status?"danger":"info"},on:{click:function(a){t.onSetStatusDriver(e.row,e.$index,t.driver_list)}}},[t._v(t._s(1==e.row.status?"禁用":"启用")+"\n        ")])]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("head-nav"),t._v(" "),a("div",{staticClass:"left-fixed-right-auto"},[a("left-menu"),t._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"content",style:{marginLeft:t.$store.state.leftmenu.width}},[a("bread"),t._v(" "),a("router-view")],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"车牌号"},model:{value:t.search_data.licenseplate,callback:function(e){t.search_data.licenseplate=e},expression:"search_data.licenseplate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.truck_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{prop:"licenseplate",label:"车牌号",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"truck_type",label:"车型",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"tonnage",label:"吨位",align:"center",width:"110",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"volume_length",label:"体积长",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"volume_width",label:"体积宽",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"volume_height",label:"体积高",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastupdate",label:"最后更新",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":100,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(a){t.onSelecttruck(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEdittruck(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeletetruck(e.row,e.$index,t.truck_list)}}})]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"车辆信息",size:"small"},model:{value:t.dialog.show,callback:function(e){t.dialog.show=e},expression:"dialog.show"}},[a("el-form",{staticStyle:{margin:"20px",width:"100%","min-width":"100%"},attrs:{"label-width":"100px",model:t.dialog.truck_info}},[a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:17},on:{ready:t.bmapReadyHandler}},[a("bm-marker",{attrs:{position:t.dialog.truck_info.positioncode,dragging:!1,icon:{url:"/static/images/truck.png",size:{width:48,height:48}}}},[a("bm-label",{attrs:{content:t.dialog.truck_info.licenseplate,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog.show=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-dialog",{attrs:{size:"tiny",title:t.dialog.title},on:{close:t.onClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("el-form",{staticStyle:{margin:"20px",width:"60%","min-width":"100%"},attrs:{"label-width":"100px"}},t._l(t.dialog.fields,function(e){return a("el-form-item",{staticClass:"edit-form",
attrs:{label:e.label}},[t._v("\n                "+t._s(t.dialog.data[e.key])+"\n            ")])})),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onClose}},[t._v("关 闭")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"订单号"},model:{value:t.search_data.ordernumber,callback:function(e){t.search_data.ordernumber=e},expression:"search_data.ordernumber"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.order_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{label:"备注",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("备注: "+t._s(e.row.memo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"orderno",label:"订单号",align:"center",width:"145",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"fhunit",label:"发货单位",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"shunit",label:"收货单位",align:"center","min-width":"110",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"productname",label:"货物名称",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"创建时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus,filters:t.status_filters.list,"filter-method":t.filterStatus,"filter-multiple":t.status_filters.multiple}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":150,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditorder(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeleteorder(e.row,e.$index,t.order_list)}}})]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"chart"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:t.data.id}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"map"},[a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:12},on:{ready:t.bmapReadyHandler}},[a("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),a("bm-traffic"),t._v(" "),t._l(t.poslist,function(t){return a("bm-marker",{attrs:{position:t,dragging:!1}},[a("bm-label",{attrs:{content:t.name,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)})],2)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"发货单位",size:"small"},model:{value:t.search_data.fhunit,callback:function(e){t.search_data.fhunit=e},expression:"search_data.fhunit"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default",size:"small"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.order_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderno",label:"订单号",align:"center",width:"145",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"fhunit",label:"发货单位",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"shunit",label:"收货单位",align:"center","min-width":"110",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"productname",label:"货物名称",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"packing",label:"包装",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"packagecount",label:"件数",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"重量",align:"center",width:"100",sortable:!0,formatter:t.formatterWeight}})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1),t._v(" "),a("el-card",[a("el-form",{ref:"line_data",staticStyle:{margin:"5px",width:"99%"},attrs:{"label-width":"100px",model:t.line_data,rules:t.line_rules}},[a("el-form-item",{attrs:{label:"线路名称",prop:"linename"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"线路名称"},model:{value:t.line_data.linename,callback:function(e){t.line_data.linename=e},expression:"line_data.linename"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配送车辆",prop:"licenseplate"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"车辆","fetch-suggestions":t.queryTruck},on:{select:t.selTruck},model:{value:t.line_data.licenseplate,callback:function(e){t.line_data.licenseplate=e},expression:"line_data.licenseplate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配送司机",prop:"drivername"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"司机","fetch-suggestions":t.queryDriver},on:{select:t.selDriver},model:{value:t.line_data.drivername,callback:function(e){t.line_data.drivername=e},expression:"line_data.drivername"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_line("line_data")}}},[t._v(t._s(t.line_data.id?"修改":"添加"))]),t._v(" "),t.line_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_line("order_data")}}},[t._v("重置")])],1)],1)],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{attrs:{span:24}},[a("el-card",[a("el-col",{attrs:{span:9}},[a("section",{staticClass:"chart"},[a("statis",{attrs:{id:t.echarts_data.id,title:t.echarts_data.title,subtext:t.echarts_data.subtext,hoverTitle:t.echarts_data.hover_title,dataList:t.echarts_data.data_list}})],1)]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"show-header":!0,border:"",align:"center",data:t.line_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"linename",label:"线路名称",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"startaddr",label:"起点",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"endaddr",label:"终点",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"starttime",label:"开始时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-card",[a("div",{staticClass:"map"},[a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:12},on:{ready:t.bmapReadyHandler}},[a("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),a("bm-traffic"),t._v(" "),t._l(t.trucklist,function(t){return a("bm-marker",{attrs:{position:t.position,dragging:!1,icon:{url:"/static/images/truck.png",size:{width:48,height:48}}}},[a("bm-label",{attrs:{content:t.licenseplate,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)}),t._v(" "),t._l(t.poslist,function(t){return a("bm-marker",{attrs:{position:t,dragging:!1}},[a("bm-label",{attrs:{content:t.name,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)})],2)],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[t.selection?a("el-button",{attrs:{type:"danger",icon:"delete",disabled:t.batch_flag},on:{click:function(e){t.onBtnEvent("BatchDelete")}}},[t._v("删除选中\n        ")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"add"},on:{click:function(e){t.onBtnEvent("Add")}}},[t._v("添加\n        ")]),t._v(" "),a("div",{staticClass:"list-header"},[t._t("list-header")],2)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.list},on:{"selection-change":t.onSelectionChange}},[!t.expand||!t.expand.show||t.expand.show!==!0||t.expand.position&&"left"!==t.expand.position?t._e():a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){}}])}),t._v(" "),t.selection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),t._v(" "),t._l(t.fields,function(e){return[e.type&&"image"===e.type?t._e():a("el-table-column",{style:e.style,attrs:{prop:e.key,label:e.label,align:e.align||"center",sortable:e.sort||!1,formatter:e.formatter,filters:e.filter_list,"filter-method":e.filter_method,"filter-multiple":e.filter_multiple,width:e.width}}),t._v(" "),e.type&&"image"===e.type?a("el-table-column",{attrs:{prop:e.key,label:e.label,align:e.align||"center",width:e.width},scopedSlots:t._u([{key:"default",fn:function(i){return[a("img",{attrs:{src:(t.image_host||"")+i.row[e.key],alt:""}})]}}])}):t._e()]}),t._v(" "),t.btn_info.show!==!1?a("el-table-column",{attrs:{label:t.btn_info.label||"操作",width:t.btn_info.width||160,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[t.btn_info.select!==!1?a("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(a){t.onBtnEvent("Select",e.row,e.$index,t.list)}}}):t._e(),t._v(" "),t.btn_info.update!==!1?a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onBtnEvent("Update",e.row,e.$index,t.list)}}}):t._e(),t._v(" "),t.btn_info.delete!==!1?a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onBtnEvent("Delete",e.row,e.$index,t.list)}}}):t._e(),t._v(" "),t._l(t.btn_info.list,function(i){return t.btn_info.list?a("el-button",{attrs:{type:i.type||"info",size:"mini"},on:{click:function(a){t.onGetInfo(e.row,e.$index,t.list,i.fn_type||i.text)}}},[t._v(t._s(i.text)+"\n                ")]):t._e()})]}}])}):t._e(),t._v(" "),t.expand&&t.expand.show&&t.expand.show===!0&&t.expand.position&&"right"===t.expand.position?a("el-table-column",{attrs:{type:"expand",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("list-expand",null,{data:e.row,index:e.$index})]}}])}):t._e()],2),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.pagination&&t.pagination.total&&t.pagination.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.pagination.page_sizes,"page-size":t.pagination.page_size,layout:t.pagination.layout,total:t.pagination.total,"current-page":t.pagination.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"chart"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartDom"}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"站点"},model:{value:t.search_data.sitename,callback:function(e){t.search_data.sitename=e},expression:"search_data.sitename"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.site_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{label:"备注",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("备注: "+t._s(e.row.memo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sitename",label:"站点名称",align:"center","min-width":"150",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"站点电话",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"contact",label:"联系人",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"contact_phone",label:"联系人电话",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址",align:"center","min-width":"200",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":130,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(a){t.onSelectsite(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditsite(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeletesite(e.row,e.$index,t.site_list)}}})]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"站点信息",size:"small"},model:{value:t.dialog.show,callback:function(e){t.dialog.show=e},expression:"dialog.show"}},[a("el-form",{staticStyle:{margin:"20px",width:"100%","min-width":"100%"},attrs:{"label-width":"100px",model:t.dialog.site_info}},[a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:13},on:{ready:t.bmapReadyHandler}},[a("bm-marker",{attrs:{position:t.dialog.site_info.positioncode,dragging:!1,animation:"BMAP_ANIMATION_BOUNCE"}},[a("bm-label",{attrs:{content:t.dialog.site_info.sitename,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog.show=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"user_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.user_data,rules:t.user_rules}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"常用邮箱"},model:{value:t.user_data.email,callback:function(e){t.user_data.email=e},expression:"user_data.email"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{disabled:!!t.user_data.id,placeholder:"用户名"},model:{value:t.user_data.username,callback:function(e){t.user_data.username=e},expression:"user_data.username"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"联系电话"},model:{value:t.user_data.phone,callback:function(e){t.user_data.phone=e},expression:"user_data.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"on-text":"","off-text":"","on-value":"1","off-value":"0"},model:{value:t.user_data.status,callback:function(e){t.user_data.status=e},expression:"user_data.status"}})],1),t._v(" "),t.user_data.id?t._e():a("el-form-item",{attrs:{label:"密码"}},[t._v("\n\t\t\t创建成功的初始密码为"),a("strong",[t._v("手机号末6位")])]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_user("user_data")}}},[t._v(t._s(t.user_data.id?"修改":"添加"))]),t._v(" "),t.user_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_user("user_data")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"bounce"}},[a("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-button",{attrs:{type:"danger",icon:"delete",disabled:t.batch_flag},on:{click:function(e){t.onDeleteUser(!0)}}},[t._v("删除选中\n    ")]),t._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",clear:""},model:{value:t.search_data.username,callback:function(e){t.search_data.username=e},expression:"search_data.username"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"电话"},model:{value:t.search_data.phone,callback:function(e){t.search_data.phone=e},expression:"search_data.phone"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.user_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",align:"center",width:"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center","min-width":"110",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"电话",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_time",label:"创建时间",formatter:t.formatterDatetime,align:"center",width:"180",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus,filters:t.status_filters.list,"filter-method":t.filterStatus,"filter-multiple":t.status_filters.multiple}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:0==t.$store.state.user.userinfo.pid?280:260,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(a){t.onSelectUser(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditUser(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.onSetAccess(e.row,e.$index,t.user_list)}}},[t._v("设置权限")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeleteUser(e.row,e.$index,t.user_list)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:1==e.row.status?"danger":"info"},on:{click:function(a){t.onSetStatusUser(e.row,e.$index,t.user_list)}}},[t._v(t._s(1==e.row.status?"禁用":"启用")+"\n        ")])]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"用户信息",size:"tiny"},model:{value:t.dialog.show,callback:function(e){t.dialog.show=e},expression:"dialog.show"}},[a("el-form",{staticStyle:{margin:"20px",width:"60%","min-width":"100%"},attrs:{"label-width":"100px",model:t.dialog.user_info}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"邮箱",prop:"email"}},[t._v("\n        "+t._s(t.dialog.user_info.email)+"\n      ")]),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"用户名称",prop:"username"}},[t._v("\n        "+t._s(t.dialog.user_info.username)+"\n      ")]),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"电话"}},[t._v("\n        "+t._s(t.dialog.user_info.phone)+"\n      ")]),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[t._v("\n        "+t._s(1==t.dialog.user_info.status?"启用":"禁用")+"\n      ")]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[t._v("\n        "+t._s(t.dialog.user_info.created_time)+"\n      ")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog.show=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"site_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.site_data,rules:t.site_rules}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"站点名称",prop:"sitename"}},[a("el-input",{attrs:{placeholder:"站点名称"},model:{value:t.site_data.sitename,callback:function(e){t.site_data.sitename=e},expression:"site_data.sitename"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"站点电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"站点电话"},model:{value:t.site_data.phone,callback:function(e){t.site_data.phone=e},expression:"site_data.phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"联系人",prop:"contact"}},[a("el-input",{attrs:{placeholder:"联系人"},model:{value:t.site_data.contact,callback:function(e){t.site_data.contact=e},expression:"site_data.contact"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"联系人电话",prop:"contact_phone"}},[a("el-input",{attrs:{placeholder:"联系人电话"},model:{value:t.site_data.contact_phone,callback:function(e){t.site_data.contact_phone=e},expression:"site_data.contact_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"站点地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"站点地址"},model:{value:t.site_data.address,callback:function(e){t.site_data.address=e},expression:"site_data.address"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:t.site_data.memo,callback:function(e){t.site_data.memo=e},expression:"site_data.memo"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_site("site_data")}}},[t._v(t._s(t.site_data.id?"修改":"添加"))]),t._v(" "),t.site_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_site("site_data")}}},[t._v("重置")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[t.site_data.id?a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:13},on:{ready:t.bmapReadyHandler}},[a("bm-marker",{attrs:{position:t.site_data.positioncode,dragging:!1,animation:"BMAP_ANIMATION_BOUNCE"}},[a("bm-label",{attrs:{content:t.site_data.sitename,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)],1):t._e()],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"公司名称",clear:""},model:{value:t.search_data.companyname,callback:function(e){t.search_data.companyname=e},expression:"search_data.companyname"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"联系人"},model:{value:t.search_data.contact,callback:function(e){t.search_data.contact=e},expression:"search_data.contact"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.company_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{label:"公司地址",type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("备注: "+t._s(e.row.address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"companyname",label:"公司名称",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"公司电话",align:"center","min-width":"130",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"contact",label:"联系人",align:"center","min-width":"100",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"contact_phone",label:"联系人电话",align:"center","min-width":"130",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_time",label:"创建时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus,filters:t.status_filters.list,"filter-method":t.filterStatus,"filter-multiple":t.status_filters.multiple}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditcompany(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeletecompany(e.row,e.$index,t.company_list)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:1==e.row.status?"danger":"info"},on:{click:function(a){t.onSetStatusCompany(e.row,e.$index,t.company_list)}}},[t._v(t._s(1==e.row.status?"禁用":"启用")+"\n        ")])]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"company_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.company_data,rules:t.company_rules}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"公司名称",prop:"companyname"}},[a("el-input",{attrs:{placeholder:"公司名称"},model:{value:t.company_data.companyname,callback:function(e){t.company_data.companyname=e},expression:"company_data.companyname"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"公司电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"公司电话"},model:{value:t.company_data.phone,callback:function(e){t.company_data.phone=e},expression:"company_data.phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"联系人",prop:"contact"}},[a("el-input",{attrs:{placeholder:"联系人"},model:{value:t.company_data.contact,callback:function(e){t.company_data.contact=e},expression:"company_data.contact"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"联系人电话",prop:"contact_phone"}},[a("el-input",{attrs:{placeholder:"联系人电话"},model:{value:t.company_data.contact_phone,callback:function(e){t.company_data.contact_phone=e},expression:"company_data.contact_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"公司地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"公司地址"},model:{value:t.company_data.address,callback:function(e){t.company_data.address=e},expression:"company_data.address"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:t.company_data.memo,callback:function(e){t.company_data.memo=e},expression:"company_data.memo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"on-text":"启用","off-text":"禁用","on-value":"1","off-value":"0"},model:{value:t.company_data.status,callback:function(e){t.company_data.status=e},expression:"company_data.status"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_company("company_data")}}},[t._v(t._s(t.company_data.id?"修改":"添加"))]),t._v(" "),t.company_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_company("company_data")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login",style:t.winSize},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"content"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.login_actions.disabled,expression:"login_actions.disabled"}],ref:"data",staticClass:"demo-ruleForm card-box loginform",style:t.formOffset,attrs:{"label-position":"left","label-width":"0px","element-loading-text":"正在"+(t.register===!0?"注册":"登录")+"...",model:t.data,rules:t.rule_data}},[a("h3",{staticClass:"title"},[a("span",{class:[{active:t.register===!1}],on:{click:function(e){t.toggleStatus(!1)}}},[t._v("系统登录")])]),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.data.username,callback:function(e){t.data.username=e},expression:"data.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.onLogin("data",!0):null}},model:{value:t.data.password,callback:function(e){t.data.password=e},expression:"data.password"}})],1),t._v(" "),t.register===!0?a("el-form-item",{attrs:{prop:"repassword"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(e){
return"button"in e||!t._k(e.keyCode,"enter",13)?void t.onRegister("data"):null}},model:{value:t.data.repassword,callback:function(e){t.data.repassword=e},expression:"data.repassword"}})],1):t._e(),t._v(" "),t.register===!1?a("el-checkbox",{staticStyle:{margin:"0px 0px 35px 0px"},attrs:{checked:t.remumber.remumber_flag},model:{value:t.remumber.remumber_flag,callback:function(e){t.remumber.remumber_flag=e},expression:"remumber.remumber_flag"}},[t._v("记住密码\n                    ")]):t._e(),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[t.register===!1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onLogin("data")}}},[t._v("登录\n                        ")]):t._e(),t._v(" "),t.register===!0?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onRegister("data")}}},[t._v("注册\n                        ")]):t._e(),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("data")}}},[t._v("重置")])],1)],1)],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bread"},[a("strong",[t._v("\n        "+t._s(t.strong)+"\n    ")]),t._v(" "),a("el-breadcrumb",{staticClass:"el-bread",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.matched,function(e,i){return a("el-breadcrumb-item",[t._v(t._s(e.name))])})],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"chart"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartDom"}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left",style:{height:t.win_size.height,width:t.$store.state.leftmenu.width},attrs:{id:"admin-left"}},[a("div",{attrs:{id:"left-menu"}},[t._l(t.$router.options.routes,function(e,i){return!e.hidden&&t.$route.matched.length&&t.$route.matched[0].path===e.path?a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:24}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{theme:"dark","default-active":t.$route.path,"unique-opened":"",router:""}},[t._l(e.children,function(i,s){return!i.hidden&&(1===t.$store.state.user.userinfo.access_status&&t.$store.state.user.userinfo.web_routers[e.path+"/"+i.path]||1!==t.$store.state.user.userinfo.access_status)?[a("el-submenu",{attrs:{index:i.path}},[a("template",{slot:"title"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right",disabled:t.$store.state.leftmenu.menu_flag,content:i.name}},[a("i",{class:"fa fa-"+i.icon})]),t._v(" "),t.$store.state.leftmenu.menu_flag?a("span",{staticClass:"menu-name"},[t._v(t._s(i.name)+"\n                                    ")]):t._e()],1),t._v(" "),t._l(i.children,function(s,n){return!s.hidden&&(1===t.$store.state.user.userinfo.access_status&&t.$store.state.user.userinfo.web_routers[e.path+"/"+i.path+"/"+s.path]||1!==t.$store.state.user.userinfo.access_status)?a("el-menu-item",{style:{"padding-left":t.$store.state.leftmenu.menu_flag?"40px":"23px"},attrs:{index:t.$store.state.router.headerCurRouter+"/"+i.path+"/"+s.path}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right",disabled:t.$store.state.leftmenu.menu_flag,content:s.name}},[a("i",{class:"fa fa-"+s.icon})]),t._v(" "),t.$store.state.leftmenu.menu_flag?a("span",{staticClass:"menu-name"},[t._v(t._s(s.name)+"\n                                    ")]):t._e()],1):t._e()})],2)]:t._e()})],2)],1)],1):t._e()}),t._v(" "),a("div",{staticClass:"toggle-menu",style:{left:t.$store.state.leftmenu.width},on:{click:t.toggleMenu}},[a("i",{class:[{"el-icon-arrow-left":t.$store.state.leftmenu.menu_flag},{"el-icon-arrow-right":!t.$store.state.leftmenu.menu_flag}]})])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"form-data",attrs:{"label-width":"100px",rules:t.rules,model:t.submit_data}},[t._l(t.fields,function(e,i){return a("el-form-item",{staticClass:"edit-form",style:e.item_style,attrs:{label:e.label,prop:e.key}},["checkbox"===e.type&&e.multiple!==!0?a("el-checkbox",{model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}},[t._v(t._s(e.label)+"\n            ")]):t._e(),t._v(" "),"cascader"===e.type?a("el-cascader",{attrs:{options:e.value.list,props:e.props||{}},on:{"active-item-change":t.onCascaderItemChange}}):t._e(),t._v(" "),e.checkall&&"object"==typeof e.checkall&&t.submit_data[e.key+t.checkall_temp]?a("el-checkbox",{attrs:{indeterminate:t.submit_data[e.key+t.checkall_temp].indeterminate},on:{change:function(a){t.onCheckallChange(e.key)}},model:{value:t.submit_data[e.key+t.checkall_temp].value,callback:function(a){t.submit_data[e.key+t.checkall_temp].value=a},expression:"submit_data[field.key+checkall_temp].value"}},[t._v(t._s(t.submit_data[e.key+t.checkall_temp].text)+"\n            ")]):t._e(),t._v(" "),"checkbox"===e.type&&e.multiple===!0&&!e.checkall||"checkbox"===e.type&&e.multiple===!0&&e.checkall&&t.submit_data[e.key+t.checkall_temp]?a("el-checkbox-group",{on:{change:function(a){t.onCheckboxChange(e.key)}},model:{value:t.submit_data[e.key+t.checkall_temp].checkbox_value,callback:function(a){t.submit_data[e.key+t.checkall_temp].checkbox_value=a},expression:"submit_data[field.key+checkall_temp].checkbox_value"}},t._l(t.submit_data[e.key+t.checkall_temp].checkbox_list,function(e){return a("el-checkbox",{attrs:{label:e.value}},[t._v(t._s(e.text)+"\n                ")])})):t._e(),t._v(" "),"editor"===e.type?a("div",{style:e.style,attrs:{id:e.id},domProps:{innerHTML:t._s(t.submit_data[e.key])}}):t._e(),t._v(" "),e.type&&"input"!==e.type&&"textarea"!==e.type?t._e():a("el-input",{attrs:{type:e.type?e.type:"input",placeholder:e.desc},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}),t._v(" "),"radio"===e.type?a("el-radio-group",{model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}},t._l(e.value.list,function(e){return a("el-radio",{attrs:{label:e.value}},[t._v(t._s(e.text||e.value)+"\n                ")])})):t._e(),t._v(" "),"select"===e.type?a("el-select",{attrs:{multiple:!!e.multiple,placeholder:e.desc},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}},t._l(e.value.list,function(t){return a("el-option",{attrs:{value:t.value,label:t.text}})})):t._e(),t._v(" "),"switch"===e.type?a("el-switch",{attrs:{"on-text":e.value.on,"off-text":e.value.off,disabled:e.disabled},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"date"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder,"picker-options":e.options},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"daterange"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"year"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"month"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"week"===e.type?a("el-date-picker",{attrs:{type:e.type,format:e.format,placeholder:e.placeholder},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"time"===e.type?a("el-time-select",{attrs:{type:e.type,placeholder:e.placeholder,"picker-options":e.options},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"datetime"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder,"picker-options":e.options},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e(),t._v(" "),"datetimerange"===e.type?a("el-date-picker",{attrs:{type:e.type,placeholder:e.placeholder},on:{change:e.change},model:{value:t.submit_data[e.key],callback:function(a){var i=t.submit_data,s=e.key;Array.isArray(i)?i.splice(s,1,a):t.submit_data[e.key]=a},expression:"submit_data[field.key]"}}):t._e()],1)}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("form-data")}}},[t._v("提交")])],1)],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"truck_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.truck_data,rules:t.truck_rules}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"车牌号",prop:"licenseplate"}},[a("el-input",{attrs:{placeholder:"车牌号"},model:{value:t.truck_data.licenseplate,callback:function(e){t.truck_data.licenseplate=e},expression:"truck_data.licenseplate"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"车型",prop:"truck_type"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearch,placeholder:"车型"},on:{select:t.fillparams},model:{value:t.truck_data.truck_type,callback:function(e){t.truck_data.truck_type=e},expression:"truck_data.truck_type"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"吨位(吨)",prop:"tonnage"}},[a("el-input-number",{attrs:{placeholder:"吨位",size:"small",min:.1,max:10,step:.1},model:{value:t.truck_data.tonnage,callback:function(e){t.truck_data.tonnage=e},expression:"truck_data.tonnage"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"体积长(米)",prop:"volume_length"}},[a("el-input-number",{attrs:{placeholder:"体积长",size:"small",min:.1,max:10,step:.1},model:{value:t.truck_data.volume_length,callback:function(e){t.truck_data.volume_length=e},expression:"truck_data.volume_length"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"体积宽(米)",prop:"volume_width"}},[a("el-input-number",{attrs:{placeholder:"体积宽",size:"small",min:.1,max:5,step:.1},model:{value:t.truck_data.volume_width,callback:function(e){t.truck_data.volume_width=e},expression:"truck_data.volume_width"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"体积高(米)",prop:"volume_height"}},[a("el-input-number",{attrs:{placeholder:"体积高",size:"small",min:.1,max:4,step:.1},model:{value:t.truck_data.volume_height,callback:function(e){t.truck_data.volume_height=e},expression:"truck_data.volume_height"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_truck("truck_data")}}},[t._v(t._s(t.truck_data.id?"修改":"添加"))]),t._v(" "),t.truck_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_truck("truck_data")}}},[t._v("重置")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[t.truck_data.id?a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:15},on:{ready:t.bmapReadyHandler}},[a("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t._v(" "),a("bm-traffic"),t._v(" "),a("bm-marker",{attrs:{position:t.truck_data.positioncode,dragging:!1,animation:"BMAP_ANIMATION_BOUNCE"}},[a("bm-label",{attrs:{content:t.truck_data.licenseplate,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)],1):t._e()],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-col",{staticClass:"actions-top",attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.search_data}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"线路"},model:{value:t.search_data.linename,callback:function(e){t.search_data.linename=e},expression:"search_data.linename"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:t.line_list},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{prop:"linename",label:"线路名称",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"startaddr",label:"起点",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"endaddr",label:"终点",align:"center","min-width":"120",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"starttime",label:"开始时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间",align:"center",width:"180",formatter:t.formatterDatetime,sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"100",sortable:!0,formatter:t.formatterStatus,filters:t.status_filters.list,"filter-method":t.filterStatus,"filter-multiple":t.status_filters.multiple}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":130,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"view",size:"mini"},on:{click:function(a){t.onSelectline(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){t.onEditline(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){t.onDeleteline(e.row,e.$index,t.line_list)}}})]}}])})],1),t._v(" "),a("el-col",{staticClass:"btm-action",attrs:{span:24}},[t.paginations.total>0?a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":t.paginations.page_sizes,"page-size":t.paginations.page_size,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.current_page},on:{"current-change":t.onChangeCurrentPage,"size-change":t.onChangePageSize}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"线路信息",size:"small"},model:{value:t.dialog.show,callback:function(e){t.dialog.show=e},expression:"dialog.show"}},[a("el-form",{staticStyle:{margin:"20px",width:"100%","min-width":"100%"},attrs:{"label-width":"100px",model:t.dialog.data}},[a("baidu-map",{staticClass:"bm-view",attrs:{center:{lng:120.152217,lat:30.284408},zoom:13},on:{ready:t.bmapReadyHandler}},t._l(t.dialog.data.poslist,function(t){return a("bm-marker",{attrs:{position:t.pos,dragging:!1}},[a("bm-label",{attrs:{content:t.name,labelStyle:{color:"blue",fontSize:"16px"},offset:{width:-20,height:30}}})],1)}))],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialog.show=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"driver_data",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{"label-width":"100px",model:t.driver_data,rules:t.driver_rules}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"姓名",prop:"username"}},[a("el-input",{attrs:{placeholder:"司机名称"},model:{value:t.driver_data.username,callback:function(e){t.driver_data.username=e},expression:"driver_data.username"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"邮件",prop:"email"}},[a("el-input",{attrs:{placeholder:"联系人"},model:{value:t.driver_data.email,callback:function(e){t.driver_data.email=e},expression:"driver_data.email"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"司机电话"},model:{value:t.driver_data.phone,callback:function(e){t.driver_data.phone=e},expression:"driver_data.phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"驾照",prop:"driverlicense"}},[a("el-input",{attrs:{placeholder:"司机地址"},model:{value:t.driver_data.driverlicense,callback:function(e){t.driver_data.driverlicense=e},expression:"driver_data.driverlicense"}})],1),t._v(" "),a("el-form-item",{staticClass:"edit-form",attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:t.driver_data.memo,callback:function(e){t.driver_data.memo=e},expression:"driver_data.memo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"on-text":"启用","off-text":"禁用","on-value":"1","off-value":"0"},model:{value:t.driver_data.status,callback:function(e){t.driver_data.status=e},expression:"driver_data.status"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_driver("driver_data")}}},[t._v(t._s(t.driver_data.id?"修改":"添加"))]),t._v(" "),t.driver_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_driver("driver_data")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"chart"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:t.data.id}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[a("el-form",{ref:"order_data",staticStyle:{margin:"20px",width:"98%","min-width":"600px"},attrs:{"label-position":"right",model:t.order_data,rules:t.order_rules}},[a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),t.order_data.id?a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("el-steps",{attrs:{space:100,active:t.order_data.status,"finish-status":"success","process-status":"process"}},[a("el-step",{attrs:{title:"未发运",stauts:"wait"}}),t._v(" "),a("el-step",{attrs:{title:"待发运",stauts:"wait"}}),t._v(" "),a("el-step",{attrs:{title:"在途",stauts:"process"}}),t._v(" "),4==t.order_data.status?a("el-step",{attrs:{title:"退回",stauts:"error"}}):t._e(),t._v(" "),4!=t.order_data.status&&6!=t.order_data.status?a("el-step",{attrs:{title:"完结",stauts:"finish"}}):t._e(),t._v(" "),6==t.order_data.status?a("el-step",{attrs:{title:"作废",stauts:"error"}}):t._e()],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"订单状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"订单状态"},model:{value:t.order_data.status,callback:function(e){t.order_data.status=e},expression:"order_data.status"}},t._l(t.statusoption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1):t._e(),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-card",{staticClass:"box-card-full"},[a("el-form-item",{staticClass:"edit-form"},[a("el-col",{attrs:{span:8}},[t.order_data.id?a("el-form-item",{attrs:{label:"订单号",prop:"orderno"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"订单号"},model:{value:t.order_data.orderno,callback:function(e){t.order_data.orderno=e},expression:"order_data.orderno"}})],1):t._e(),t._v(" "),t.order_data.id?t._e():a("span",[t._v(" ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"下单时间",prop:"createtime"}},[a("el-date-picker",{attrs:{type:"datetime"},model:{value:t.order_data.createtime,callback:function(e){t.order_data.createtime=e},expression:"order_data.createtime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"送货时间",prop:"shtime"}},[a("el-date-picker",{attrs:{type:"datetime"},model:{value:t.order_data.shtime,callback:function(e){t.order_data.shtime=e},expression:"order_data.shtime"}})],1)],1)],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticClass:"edit-form"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发货单位",prop:"fhunit"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"发货单位","fetch-suggestions":t.queryCompany},on:{select:t.selFhunit},model:{value:t.order_data.fhunit,callback:function(e){t.order_data.fhunit=e},expression:"order_data.fhunit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位电话",prop:"fhunitphone"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"单位电话"},model:{value:t.order_data.fhunitphone,callback:function(e){t.order_data.fhunitphone=e},expression:"order_data.fhunitphone"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发货人",prop:"fhname"}},[t._v("\n\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t"),a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"发货人"},model:{value:t.order_data.fhname,callback:function(e){t.order_data.fhname=e},expression:"order_data.fhname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"fhphone"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"联系电话"},model:{value:t.order_data.fhphone,callback:function(e){t.order_data.fhphone=e},expression:"order_data.fhphone"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"发货地址",prop:"fhaddress"}},[a("el-input",{staticClass:"edit-input-full",attrs:{placeholder:"发货单位"},model:{value:t.order_data.fhaddress,callback:function(e){t.order_data.fhaddress=e},expression:"order_data.fhaddress"}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{staticClass:"edit-form"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货单位",prop:"shunit"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"收货单位","fetch-suggestions":t.querySite},on:{select:t.selShunit},model:{value:t.order_data.shunit,callback:function(e){t.order_data.shunit=e},expression:"order_data.shunit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位电话",prop:"shunitphone"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"单位电话"},model:{value:t.order_data.shunitphone,callback:function(e){t.order_data.shunitphone=e},expression:"order_data.shunitphone"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人",prop:"shname"}},[t._v("\n\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t"),a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"收货人"},model:{value:t.order_data.shname,callback:function(e){t.order_data.shname=e},expression:"order_data.shname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"shphone"}},[a("el-input",{staticClass:"edit-input-col",attrs:{placeholder:"联系电话"},model:{value:t.order_data.shphone,callback:function(e){t.order_data.shphone=e},expression:"order_data.shphone"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"收货地址",prop:"shaddress"}},[a("el-input",{staticClass:"edit-input-full",attrs:{placeholder:"收货单位"},model:{value:t.order_data.shaddress,callback:function(e){t.order_data.shaddress=e},expression:"order_data.shaddress"}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card-full"},[a("el-form-item",{staticClass:"edit-input-col",attrs:{label:"货物名称",prop:"productname"}},[a("el-input",{staticClass:"edit-input-full",attrs:{placeholder:"货物名称"},model:{value:t.order_data.productname,callback:function(e){t.order_data.productname=e},expression:"order_data.productname"}})],1),t._v(" "),a("el-form-item",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"包装方式",prop:"packing"}},[a("el-select",{attrs:{placeholder:"包装方式"},model:{value:t.order_data.packing,callback:function(e){t.order_data.packing=e},expression:"order_data.packing"}},t._l(t.packoption,function(t){return a("el-option",{key:t.value,attrs:{value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"件数",prop:"packagecount"}},[a("el-input-number",{attrs:{placeholder:"件数",min:1,step:1},model:{value:t.order_data.packagecount,callback:function(e){t.order_data.packagecount=e},expression:"order_data.packagecount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"重量(吨)",prop:"weight"}},[a("el-input-number",{attrs:{placeholder:"重量",min:.1,max:10,step:.1},model:{value:t.order_data.weight,callback:function(e){t.order_data.weight=e},expression:"order_data.weight"}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card-full"},[a("el-form-item",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"配送方式",prop:"deliverymode"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.order_data.deliverymode,callback:function(e){t.order_data.deliverymode=e},expression:"order_data.deliverymode"}},t._l(t.deliveryoptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"支付方式",prop:"paymentmode"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.order_data.paymentmode,callback:function(e){t.order_data.paymentmode=e},expression:"order_data.paymentmode"}},t._l(t.payoptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"总计费用(元)",prop:"totalfee"}},[a("el-input-number",{attrs:{placeholder:"总计费用",min:0,max:9999999999,step:.01},model:{value:t.order_data.totalfee,callback:function(e){t.order_data.totalfee=e},expression:"order_data.totalfee"}})],1)],1)],1),t._v(" "),t.order_data.id?a("el-form-item",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"配送车辆",prop:"licenseplate"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"车辆","fetch-suggestions":t.queryTruck},on:{select:t.selTruck},model:{value:t.order_data.licenseplate,callback:function(e){t.order_data.licenseplate=e},expression:"order_data.licenseplate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"配送司机",prop:"drivername"}},[a("el-autocomplete",{staticClass:"edit-input-col",attrs:{placeholder:"司机","fetch-suggestions":t.queryDriver},on:{select:t.selDriver},model:{value:t.order_data.drivername,callback:function(e){t.order_data.drivername=e},expression:"order_data.drivername"}})],1)],1)],1):t._e()],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"box-card-full"},[a("el-form-item",{staticClass:"edit-form",attrs:{label:"备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:t.order_data.memo,callback:function(e){t.order_data.memo=e},expression:"order_data.memo"}})],1)],1)],1),t._v(" "),a("el-col",{staticClass:"line edit-form-col",attrs:{span:24}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save_order("order_data")}}},[t._v(t._s(t.order_data.id?"修改":"添加"))]),t._v(" "),t.order_data.id?t._e():a("el-button",{attrs:{type:"default"},on:{click:function(e){t.reset_order("order_data")}}},[t._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.51581a68e15c2c9262c9.js.map